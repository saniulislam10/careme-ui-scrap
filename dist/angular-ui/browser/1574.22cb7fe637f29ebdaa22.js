(self.webpackChunkangular_ui=self.webpackChunkangular_ui||[]).push([[1574],{57147:(t,e,i)=>{"use strict";i.d(e,{L:()=>r,E7:()=>a});var n=i(35366);let r=(()=>{class t{constructor(t){this.el=t,this.hasDecimalPoint=!1,this.hasNegativeSign=!1,this.navigationKeys=["Backspace","Delete","Tab","Escape","Enter","Home","End","ArrowLeft","ArrowRight","Clear","Copy","Paste"],this.decimal=!1,this.decimalSeparator=".",this.allowNegatives=!1,this.negativeSign="-",this.min=-1/0,this.max=1/0,this.regex=null,this.inputElement=t.nativeElement}ngOnChanges(t){if(t.pattern&&(this.regex=this.pattern?RegExp(this.pattern):null),t.min){const t=Number(this.min);this.min=isNaN(t)?-1/0:t}if(t.max){const t=Number(this.max);this.max=isNaN(t)?1/0:t}}onBeforeInput(t){if(isNaN(Number(t.data))){if(t.data===this.decimalSeparator||t.data===this.negativeSign&&this.allowNegatives)return;t.preventDefault(),t.stopPropagation()}}onKeyDown(t){if(this.navigationKeys.indexOf(t.key)>-1||("a"===t.key||"KeyA"===t.code)&&!0===t.ctrlKey||("c"===t.key||"KeyC"===t.code)&&!0===t.ctrlKey||("v"===t.key||"KeyV"===t.code)&&!0===t.ctrlKey||("x"===t.key||"KeyX"===t.code)&&!0===t.ctrlKey||("a"===t.key||"KeyA"===t.code)&&!0===t.metaKey||("c"===t.key||"KeyC"===t.code)&&!0===t.metaKey||("v"===t.key||"KeyV"===t.code)&&!0===t.metaKey||("x"===t.key||"KeyX"===t.code)&&!0===t.metaKey)return;let e="";if(this.decimal&&t.key===this.decimalSeparator)return e=this.forecastValue(t.key),e.split(this.decimalSeparator).length>2?void t.preventDefault():void(this.hasDecimalPoint=e.indexOf(this.decimalSeparator)>-1);if(t.key===this.negativeSign&&this.allowNegatives)return e=this.forecastValue(t.key),e.charAt(0)!==this.negativeSign||e.split(this.negativeSign).length>2?void t.preventDefault():void(this.hasNegativeSign=e.split(this.negativeSign).length>-1);if(" "===t.key||isNaN(Number(t.key)))return void t.preventDefault();if(e=e||this.forecastValue(t.key),this.regex&&!this.regex.test(e))return void t.preventDefault();const i=Number(e);(i>this.max||i<this.min)&&t.preventDefault()}onPaste(t){let e="";window.clipboardData?e=window.clipboardData.getData("text"):t.clipboardData&&t.clipboardData.getData&&(e=t.clipboardData.getData("text/plain")),this.pasteData(e),t.preventDefault()}onDrop(t){var e,i;const n=null!==(i=null===(e=t.dataTransfer)||void 0===e?void 0:e.getData("text"))&&void 0!==i?i:"";this.inputElement.focus(),this.pasteData(n),t.preventDefault()}pasteData(t){const e=this.sanitizeInput(t);if(!e.includes(this.negativeSign)||!this.hasNegativeSign||this.getSelection().includes(this.negativeSign)){if(!document.execCommand("insertText",!1,e))if(this.inputElement.setRangeText){const{selectionStart:t,selectionEnd:i}=this.inputElement;this.inputElement.setRangeText(e,null!=t?t:0,null!=i?i:0,"end"),void 0!==window.InstallTrigger&&this.inputElement.dispatchEvent(new Event("input",{cancelable:!0}))}else this.insertAtCursor(this.inputElement,e);this.decimal&&(this.hasDecimalPoint=this.inputElement.value.indexOf(this.decimalSeparator)>-1),this.hasNegativeSign=this.inputElement.value.indexOf(this.negativeSign)>-1}}insertAtCursor(t,e){var i,n;const r=null!==(i=t.selectionStart)&&void 0!==i?i:0,a=null!==(n=t.selectionEnd)&&void 0!==n?n:0;t.value=t.value.substring(0,r)+e+t.value.substring(a,t.value.length);const o=r+e.length;t.focus(),t.setSelectionRange(o,o),this.triggerEvent(t,"input")}triggerEvent(t,e){if("createEvent"in document){const i=document.createEvent("HTMLEvents");i.initEvent(e,!1,!0),t.dispatchEvent(i)}}sanitizeInput(t){let e,i="";e=this.decimal&&this.isValidDecimal(t)?new RegExp(`${this.getNegativeSignRegExp()}[^0-9${this.decimalSeparator}]`,"g"):new RegExp(`${this.getNegativeSignRegExp()}[^0-9]`,"g"),i=t.replace(e,"");const n=this.inputElement.maxLength;if(n>0){const t=n-this.inputElement.value.length+(i.includes(`${this.negativeSign}`)?1:0);i=t>0?i.substring(0,t):""}return i}getNegativeSignRegExp(){return!this.allowNegatives||this.hasNegativeSign&&!this.getSelection().includes(this.negativeSign)?"":`(?!^${this.negativeSign})`}isValidDecimal(t){if(this.hasDecimalPoint){const e=this.getSelection();return e&&e.indexOf(this.decimalSeparator)>-1?t.split(this.decimalSeparator).length<=2:t.indexOf(this.decimalSeparator)<0}return t.split(this.decimalSeparator).length<=2}getSelection(){var t,e;return this.inputElement.value.substring(null!==(t=this.inputElement.selectionStart)&&void 0!==t?t:0,null!==(e=this.inputElement.selectionEnd)&&void 0!==e?e:0)}forecastValue(t){var e,i;const n=null!==(e=this.inputElement.selectionStart)&&void 0!==e?e:0,r=null!==(i=this.inputElement.selectionEnd)&&void 0!==i?i:0,a=this.inputElement.value;return a.substring(0,n)+t+a.substring(r)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq))},t.\u0275dir=n.lG2({type:t,selectors:[["","digitOnly",""]],hostBindings:function(t,e){1&t&&n.NdJ("beforeinput",function(t){return e.onBeforeInput(t)})("keydown",function(t){return e.onKeyDown(t)})("paste",function(t){return e.onPaste(t)})("drop",function(t){return e.onDrop(t)})},inputs:{decimal:"decimal",decimalSeparator:"decimalSeparator",allowNegatives:"allowNegatives",negativeSign:"negativeSign",min:"min",max:"max",pattern:"pattern"},features:[n.TTD]}),t})(),a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[]]}),t})()},51574:(t,e,i)=>{"use strict";i.r(e),i.d(e,{AddProductModule:()=>zt});var n=i(61116),r=i(33464),a=i(31041),o=i(92935),s=i(35366),l=i(45763),c=i(85004),g=i(56507),d=i(68370),u=i(99896),p=i(84369),h=i(77307),m=i(13070),f=i(13841),b=i(30136),y=i(87064);function v(t,e){if(1&t&&(s.TgZ(0,"mat-option",12),s._uU(1),s.ALo(2,"titlecase"),s.qZA()),2&t){const t=e.$implicit;s.Q6J("value",t._id),s.xp6(1),s.hij(" ",s.lcZ(2,2,t.name)," ")}}function C(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"ngx-dropzone-image-preview",13),s.NdJ("removed",function(){const e=s.CHM(t).$implicit;return s.oxw().onRemove(e)}),s.TgZ(1,"ngx-dropzone-label"),s._uU(2),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.Q6J("file",t)("removable",!0),s.xp6(2),s.Oqu(t.type)}}let Z=(()=>{class t{constructor(t,e,i,n,r,a,o){this.fileUploadService=t,this.galleryService=e,this.utilsService=i,this.reloadService=n,this.uiService=r,this.dialogRef=a,this.data=o,this.files=[],this.folders=[],this.selectedFolder=null}ngOnInit(){this.data&&(this.folders=this.data)}onSelect(t){this.files.push(...t.addedFiles),console.log(this.files)}onRemove(t){console.log(t),this.files.splice(this.files.indexOf(t),1)}onUploadImages(){this.selectedFolder?!this.files||this.files.length<=0?this.uiService.warn("No Image selected!"):this.fileUploadService.uploadMultiImageOriginal(this.files).subscribe(t=>{const e=t.downloadUrls.map(t=>({url:t,name:this.utilsService.getPopString(t),folder:this.selectedFolder}));this.addImagesToGallery(e)},t=>{console.log(t)}):this.uiService.warn("No Folder name found!")}addImagesToGallery(t){this.galleryService.addNewGalleryMultiData(t).subscribe(t=>{this.reloadService.needRefreshGallery$(),this.dialogRef.close(),console.log(t.message)},t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(l.J),s.Y36(c.r),s.Y36(g.F),s.Y36(d.f),s.Y36(u.F),s.Y36(o.so),s.Y36(o.WI))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-upload-image"]],decls:20,vars:4,consts:[[1,"dialog-container"],[1,"header"],["mat-icon-button","","mat-dialog-close",""],[1,"content"],["appearance","outline",1,"mat-select-folder"],["name","food",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["ngx-dropzone","",1,"custom-dropzone",3,"accept","change"],[1,"label"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngFor","ngForOf"],[1,"action"],["type","button","mat-raised-button","","color","primary",3,"click"],[3,"value"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"button",2),s.TgZ(3,"mat-icon"),s._uU(4,"close"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(5,"div",3),s.TgZ(6,"mat-form-field",4),s.TgZ(7,"mat-label"),s._uU(8,"Select Folder"),s.qZA(),s.TgZ(9,"mat-select",5),s.NdJ("ngModelChange",function(t){return e.selectedFolder=t}),s.YNc(10,v,3,4,"mat-option",6),s.qZA(),s.qZA(),s.TgZ(11,"div",7),s.NdJ("change",function(t){return e.onSelect(t)}),s.TgZ(12,"ngx-dropzone-label"),s.TgZ(13,"div",8),s.TgZ(14,"h2"),s._uU(15,"Upload or Drug and Drop Here"),s.qZA(),s.qZA(),s.qZA(),s.YNc(16,C,3,3,"ngx-dropzone-image-preview",9),s.qZA(),s.TgZ(17,"div",10),s.TgZ(18,"button",11),s.NdJ("click",function(){return e.onUploadImages()}),s._uU(19," Upload Now "),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(9),s.Q6J("ngModel",e.selectedFolder),s.xp6(1),s.Q6J("ngForOf",e.folders),s.xp6(1),s.Q6J("accept","image/*"),s.xp6(5),s.Q6J("ngForOf",e.files))},directives:[p.lW,o.ZT,h.Hw,m.KE,m.hX,f.gD,a.JJ,a.On,n.sg,b._f,b.Jj,y.ey,b.sv],pipes:[n.rS],styles:[".dialog-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:0 12px;text-align:right}.custom-dropzone[_ngcontent-%COMP%], ngx-dropzone[_ngcontent-%COMP%]{margin:20px}.label[_ngcontent-%COMP%]{width:100%;text-align:center}.custom-dropzone[_ngcontent-%COMP%]{height:316px;color:#fff;border:5px dashed #eb4f4f;border-radius:5px;font-size:20px;display:grid;grid-template-columns:repeat(2,1fr);background:#af01019e;margin:0}.custom-dropzone[_ngcontent-%COMP%]     img{width:100%!important}.custom-dropzone.ngx-dz-hovered[_ngcontent-%COMP%]{border:5px solid #eb4f4f}.action[_ngcontent-%COMP%]{text-align:center;padding:12px 16px}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     span{color:#fff}.mat-select-folder[_ngcontent-%COMP%]{width:320px}"]}),t})();var _=i(83588),x=i(47701),A=i(98720),P=i(44689),O=i(70653),S=i(55388),T=i(31269),M=i(29282),w=i(41293),q=i(9550);const N=["searchForm"],I=["searchInput"];function F(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){return s.CHM(t),s.oxw().deselectAll()}),s.TgZ(1,"mat-icon"),s._uU(2,"remove_circle_outline"),s.qZA(),s._uU(3," Clear All "),s.qZA()}}function D(t,e){if(1&t&&(s.TgZ(0,"mat-option",17),s._uU(1),s.ALo(2,"titlecase"),s.qZA()),2&t){const t=e.$implicit;s.Q6J("value",t._id),s.xp6(1),s.hij(" ",s.lcZ(2,2,t.name)," ")}}function U(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"figure",27),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().onSelectImage(e)}),s._UZ(1,"img",28),s.TgZ(2,"div",29),s.TgZ(3,"mat-icon"),s._uU(4,"check"),s.qZA(),s.qZA(),s.TgZ(5,"div",30),s._uU(6),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit,i=s.oxw();s.xp6(1),s.Q6J("src",t.url,s.LSH)("alt",t.name),s.xp6(1),s.Q6J("fxHide",i.checkSelected(t)),s.xp6(4),s.Oqu(t.name)}}function J(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",38),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw(2).selectPreviewImage(e)}),s._UZ(1,"img",39),s.TgZ(2,"div",40),s.TgZ(3,"button",2),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw(2).removeSelectImage(e)}),s.TgZ(4,"mat-icon"),s._uU(5,"delete"),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(1),s.Q6J("src",t.url,s.LSH)("alt",t.name)}}function k(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",41),s.TgZ(1,"button",42),s.NdJ("click",function(){return s.CHM(t),s.oxw(2).onCloseDialog()}),s._uU(2," Set Image "),s.qZA(),s.qZA()}}function E(t,e){if(1&t&&(s.TgZ(0,"mat-option",17),s._uU(1),s.ALo(2,"titlecase"),s.qZA()),2&t){const t=e.$implicit;s.Q6J("value",t),s.xp6(1),s.hij(" ",s.lcZ(2,2,t.name)," ")}}function Q(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",43),s.TgZ(1,"div",44),s.TgZ(2,"p"),s._uU(3),s.qZA(),s.qZA(),s.TgZ(4,"form",45),s.NdJ("ngSubmit",function(){return s.CHM(t),s.oxw(2).onImageDataUpdate()}),s.TgZ(5,"mat-form-field",46),s.TgZ(6,"mat-label"),s._uU(7,"Image Name"),s.qZA(),s._UZ(8,"input",47),s.qZA(),s.TgZ(9,"mat-form-field",46),s.TgZ(10,"mat-label"),s._uU(11,"Select Folder"),s.qZA(),s.TgZ(12,"mat-select",48),s.YNc(13,E,3,4,"mat-option",18),s.qZA(),s.qZA(),s.TgZ(14,"div",49),s.TgZ(15,"button",50),s._uU(16," Update Info "),s.qZA(),s.TgZ(17,"button",51),s.NdJ("click",function(){return s.CHM(t),s.oxw(2).deleteImages()}),s.TgZ(18,"mat-icon"),s._uU(19,"delete"),s.qZA(),s._uU(20," Delete "),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw(2);s.xp6(3),s.Oqu(null==t.selectPreview?null:t.selectPreview.url),s.xp6(1),s.Q6J("formGroup",t.dataForm),s.xp6(9),s.Q6J("ngForOf",t.folders)}}function L(t,e){if(1&t&&(s.TgZ(0,"div",31),s.TgZ(1,"div"),s.TgZ(2,"div",32),s.YNc(3,J,6,2,"div",33),s.qZA(),s.TgZ(4,"div",34),s._UZ(5,"img",35),s.qZA(),s.qZA(),s.YNc(6,k,3,0,"div",36),s.YNc(7,Q,21,3,"div",37),s.qZA()),2&t){const t=s.oxw();s.xp6(3),s.Q6J("ngForOf",t.selectedImages),s.xp6(2),s.Q6J("src",null==t.selectPreview?null:t.selectPreview.url,s.LSH)("alt",null==t.selectPreview?null:t.selectPreview.name),s.xp6(1),s.Q6J("ngIf",t.selectedImages&&t.selectedImages.length>0),s.xp6(1),s.Q6J("ngIf",t.selectPreview)}}const R=function(t,e,i){return{itemsPerPage:t,currentPage:e,totalItems:i}};let Y=(()=>{class t{constructor(t,e,i,n,r,a,o,s,l,c,g,d){this.router=t,this.activatedRoute=e,this.dialog=i,this.galleryService=n,this.reloadService=r,this.fileUploadService=a,this.imageFolderService=o,this.utilsService=s,this.fb=l,this.spinner=c,this.dialogRef=g,this.data=d,this.currentPage=1,this.totalProducts=0,this.productsPerPage=24,this.totalProductsStore=0,this.searchProducts=[],this.overlay=!1,this.isLoading=!1,this.searchQuery=null,this.selectedImages=[],this.holdPrevData=[],this.images=[],this.folders=[],this.selectedFolder=null,this.queryFolder=null}ngOnInit(){this.activatedRoute.queryParams.subscribe(t=>{this.currentPage=t&&t.page?t.page:1,this.getAllGalleryList()}),this.reloadService.refreshGallery$.subscribe(()=>{this.getAllGalleryList()}),this.getAllImageFolderList(),this.dataForm=this.fb.group({name:[null,a.kI.required],folder:[null,a.kI.required]})}ngAfterViewInit(){var t;const e=null===(t=this.searchForm)||void 0===t?void 0:t.valueChanges;null==e||e.pipe((0,_.j)("searchTerm"),(0,x.b)(200),(0,A.x)(),(0,P.w)(t=>{if(this.searchQuery=t,!this.searchQuery)return this.overlay=!1,this.searchProducts=[],this.images=this.holdPrevData,this.totalProducts=this.totalProductsStore,this.searchQuery=null,O.E;this.isLoading=!0;const e={pageSize:this.productsPerPage.toString(),currentPage:this.currentPage.toString()};return this.galleryService.getSearchImages(t,e)})).subscribe(t=>{this.isLoading=!1,this.searchProducts=t.data,this.images=this.searchProducts,this.totalProducts=t.count,this.currentPage=1,this.router.navigate([],{queryParams:{page:this.currentPage}})},()=>{this.isLoading=!1})}setImageDataForm(t){var e;null===(e=this.dataForm)||void 0===e||e.patchValue(t)}getAllImageFolderList(){this.imageFolderService.getAllImageFolderList().subscribe(t=>{this.folders=t.data},t=>{console.log(t)})}getAllGalleryList(){this.spinner.show();const t={pageSize:this.productsPerPage.toString(),currentPage:this.currentPage.toString()};this.galleryService.getAllGalleryList(t,this.queryFolder?this.queryFolder:null).subscribe(t=>{this.images=t.data,this.holdPrevData=t.data,this.totalProducts=t.count,this.totalProductsStore=t.count,this.spinner.hide(),window.scrollTo(0,0)},t=>{this.spinner.hide(),console.log(t)})}editGalleryData(t){this.galleryService.editGalleryData(t).subscribe(t=>{this.reloadService.needRefreshGallery$()},t=>{console.log(t)})}onPageChanged(t){this.router.navigate([],{queryParams:{page:t}})}onSelectImage(t){if(-1===this.selectedImages.findIndex(e=>e._id===t._id)){this.selectedImages.push(t),this.selectPreview=this.selectedImages[this.selectedImages.length-1];const e=this.selectPreview.folder,i=this.folders.find(t=>t._id===e._id);this.setImageDataForm({name:this.selectPreview.name,folder:i}),1===this.selectedImages.length||this.setImageDataForm({})}else this.removeSelectImage(t)}checkSelected(t){return-1===this.selectedImages.findIndex(e=>e._id===t._id)}removeSelectImage(t,e){e&&e.stopPropagation();const i=this.selectedImages.findIndex(e=>e._id===t._id);this.selectedImages.splice(i,1);const n=this.selectedImages.length-1;if(n>=0){this.selectPreview=this.selectedImages[n];const t=this.selectPreview.folder,e=this.folders.find(e=>e._id===t._id);this.setImageDataForm({name:this.selectPreview.name,folder:e})}else this.selectPreview=void 0}openComponentDialog(t){this.dialog.open(Z,{data:t,panelClass:["theme-dialog","dialog-no-radius"],maxWidth:"800px",maxHeight:"580px",height:"100%",width:"100%",autoFocus:!1,disableClose:!1})}deleteImages(){const t=this.selectedImages.map(t=>t._id),e=this.selectedImages.map(t=>t.url);this.galleryService.deleteGalleryDataMulti(t).subscribe(t=>{this.fileUploadService.removeFileMultiArray(e).subscribe(t=>{this.reloadService.needRefreshGallery$(),this.selectedImages=[]})},t=>{console.log(t)})}onImageDataUpdate(){var t,e,i;if(null===(t=this.dataForm)||void 0===t?void 0:t.invalid)return;const n=null===(e=this.dataForm)||void 0===e?void 0:e.value.folder,r=Object.assign(Object.assign(Object.assign({},null===(i=this.dataForm)||void 0===i?void 0:i.value),{folder:n._id}),{_id:this.selectedImages[0]._id});this.editGalleryData(r)}selectPreviewImage(t){this.selectPreview=t,this.setImageDataForm({name:this.selectPreview.name,folder:this.selectPreview.folder})}deselectAll(){var t;this.selectedImages=[],this.selectPreview=void 0,this.setImageDataForm({}),this.searchQuery=null,this.searchProducts=[],null===(t=this.searchForm)||void 0===t||t.resetForm(),this.queryFolder=null,this.router.navigate([],{queryParams:{page:1}})}onFilterSelectChange(t){this.queryFolder=t.value,this.currentPage>1?this.router.navigate([],{queryParams:{page:1}}):this.getAllGalleryList()}onCloseDialog(){this.dialogRef.close({data:this.selectedImages}),this.router.navigate([],{queryParams:null})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(r.F0),s.Y36(r.gz),s.Y36(o.uw),s.Y36(c.r),s.Y36(d.f),s.Y36(l.J),s.Y36(S.f),s.Y36(g.F),s.Y36(a.qu),s.Y36(T.t2),s.Y36(o.so),s.Y36(o.WI))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-image-gallery"]],viewQuery:function(t,e){if(1&t&&(s.Gf(N,5),s.Gf(I,5)),2&t){let t;s.iGM(t=s.CRH())&&(e.searchForm=t.first),s.iGM(t=s.CRH())&&(e.searchInput=t.first)}},decls:38,vars:16,consts:[[1,"container-fluid"],[1,"close"],["mat-icon-button","","color","warn",3,"click"],[1,"header"],[1,"left"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],[1,"search"],[1,"search-form"],["searchForm","ngForm"],["type","text","placeholder","Search here...","name","searchTerm","autocomplete","off","ngModel","","required",""],["searchInput",""],[1,"icon"],[1,"content"],[1,"main"],["appearance","outline",1,"mat-select-folder"],["name","food",3,"ngModel","ngModelChange","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"gallery"],["class","thumb",3,"click",4,"ngFor","ngForOf"],[1,"pagination-container"],[1,"product-pagination",3,"autoHide","maxSize","pageChange"],["class","side-bar",4,"ngIf"],["bdColor","rgba(0,0,0,0.25)","size","medium","color","#fff","type","ball-clip-rotate",2,"width","100vw","height","100vh",3,"fullScreen"],[2,"color","white"],["mat-raised-button","","color","warn",3,"click"],[1,"thumb",3,"click"],[1,"image",3,"src","alt"],[1,"overlay",3,"fxHide"],[1,"caption"],[1,"side-bar"],[1,"multi"],["class","preview",3,"click",4,"ngFor","ngForOf"],[1,"single"],[1,"preview",3,"src","alt"],["class","action action-set-area",4,"ngIf"],["class","edit-field",4,"ngIf"],[1,"preview",3,"click"],[3,"src","alt"],[1,"overlay-ac"],[1,"action","action-set-area"],["mat-stroked-button","","color","primary",3,"click"],[1,"edit-field"],[1,"url"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"mat-field"],["formControlName","name","required","","matInput","","placeholder","Enter Image name"],["formControlName","folder","required",""],[1,"form-action"],["mat-raised-button","","color","primary","type","submit"],["mat-raised-button","","type","button","color","warn",3,"click"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"button",2),s.NdJ("click",function(){return e.onCloseDialog()}),s.TgZ(3,"mat-icon"),s._uU(4,"close"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(5,"div",3),s.TgZ(6,"div",4),s.TgZ(7,"button",5),s.NdJ("click",function(){return e.openComponentDialog(e.folders)}),s.TgZ(8,"mat-icon"),s._uU(9,"add"),s.qZA(),s._uU(10," Upload Images "),s.qZA(),s.YNc(11,F,4,0,"button",6),s.qZA(),s.TgZ(12,"div",7),s.TgZ(13,"form",8,9),s._UZ(15,"input",10,11),s.TgZ(17,"div",12),s.TgZ(18,"mat-icon"),s._uU(19,"search"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(20,"div",13),s.TgZ(21,"div",14),s.TgZ(22,"mat-form-field",15),s.TgZ(23,"mat-label"),s._uU(24,"Select Folder"),s.qZA(),s.TgZ(25,"mat-select",16),s.NdJ("ngModelChange",function(t){return e.selectedFolder=t})("selectionChange",function(t){return e.onFilterSelectChange(t)}),s.TgZ(26,"mat-option",17),s._uU(27,"None"),s.qZA(),s.YNc(28,D,3,4,"mat-option",18),s.qZA(),s.qZA(),s.TgZ(29,"div",19),s.YNc(30,U,7,4,"figure",20),s.ALo(31,"paginate"),s.qZA(),s.TgZ(32,"div",21),s.TgZ(33,"pagination-controls",22),s.NdJ("pageChange",function(t){return e.onPageChanged(t)}),s.qZA(),s.qZA(),s.qZA(),s.YNc(34,L,8,5,"div",23),s.qZA(),s.qZA(),s.TgZ(35,"ngx-spinner",24),s.TgZ(36,"p",25),s._uU(37," Loading... "),s.qZA(),s.qZA()),2&t&&(s.xp6(11),s.Q6J("ngIf",e.selectedImages&&e.selectedImages.length>0),s.xp6(14),s.Q6J("ngModel",e.selectedFolder),s.xp6(1),s.Q6J("value",null),s.xp6(2),s.Q6J("ngForOf",e.folders),s.xp6(2),s.Q6J("ngForOf",s.xi3(31,9,e.images,s.kEZ(12,R,e.productsPerPage,e.currentPage,e.totalProducts))),s.xp6(3),s.Q6J("autoHide",!0)("maxSize",15),s.xp6(1),s.Q6J("ngIf",e.selectedImages&&e.selectedImages.length>0),s.xp6(1),s.Q6J("fullScreen",!0))},directives:[p.lW,h.Hw,n.O5,a._Y,a.JL,a.F,a.Fj,a.JJ,a.On,a.Q7,m.KE,m.hX,f.gD,y.ey,n.sg,M.LS,T.Ro,w.b8,a.sg,q.Nt,a.u],pipes:[M._s,n.rS],styles:[".search[_ngcontent-%COMP%]{width:100%;max-width:400px;position:relative;z-index:1299!important}.search[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:100%;border-radius:8px}.search[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:45px;outline:none;border:none;padding:0 60px 0 20px;font-size:17px;background:#ffeaff}.search[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   input.color[_ngcontent-%COMP%]{background:#f0f8ff}.search[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   input.sm[_ngcontent-%COMP%]{width:100%;height:38px;outline:none;border:none;padding:0 60px 0 20px;font-size:17px;background:#f0f8ff}.search[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:55px;line-height:55px;font-size:24px;width:70px}.search[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .search[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   .icon.sm[_ngcontent-%COMP%]{position:absolute;top:0;right:0;text-align:center;color:#fff;background:#ef3688;border:none;cursor:pointer}.search[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   .icon.sm[_ngcontent-%COMP%]{height:38px;line-height:38px;font-size:30px;width:40px}.container-fluid[_ngcontent-%COMP%]{width:85%;margin:0 auto}.close[_ngcontent-%COMP%]{position:absolute;top:10px;left:0;right:0;z-index:10;text-align:center}.close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#ffc9c9}.header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;margin:16px 0}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;grid-gap:12px;gap:12px}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     span{color:#fff}.mat-select-folder[_ngcontent-%COMP%]{width:320px}.content[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:16px;gap:16px;margin-top:40px}.content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{flex:1}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]{width:340px;background:#ececec}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]   .single[_ngcontent-%COMP%]{width:100%;margin-top:16px}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]   .single[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]   .multi[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:8px}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]   .multi[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{height:125px}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden;cursor:pointer}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]:hover   .overlay-ac[_ngcontent-%COMP%]{visibility:visible}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .overlay-ac[_ngcontent-%COMP%]{visibility:hidden;position:absolute;left:0;top:0;width:100%;height:100%;display:grid;place-items:center;background:#06060630}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{padding:16px 8px;display:flex;flex-direction:column;justify-content:center;grid-gap:12px;gap:12px}.action-set-area[_ngcontent-%COMP%]{width:100%;text-align:center}.action-set-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.form-action[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.gallery[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);padding:2px;transition:.3s;grid-gap:16px;gap:16px}.gallery[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]{padding:0;margin:0;width:100%;height:200px;background:#727272;position:relative;cursor:pointer}.gallery[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]:hover   .caption[_ngcontent-%COMP%]{opacity:1}.gallery[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.gallery[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000082;display:grid;place-items:center}.gallery[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:48px;font-size:48px;color:#d5d5d5}.gallery[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{overflow:hidden;padding:0;margin:0;position:absolute;bottom:0;left:0;width:100%;font-family:Raleway,sans-serif;color:#fff;opacity:0;background:linear-gradient(0deg,#00000080,#fff0);transition:.3s}.edit-field[_ngcontent-%COMP%]{width:95%;margin:8px auto}.edit-field[_ngcontent-%COMP%]   .mat-field[_ngcontent-%COMP%]{width:100%}.edit-field[_ngcontent-%COMP%]   .url[_ngcontent-%COMP%]{width:85%;border:1px solid #bdbdbd;padding:4px 10px;border-radius:4px;margin-bottom:8px;height:auto;overflow:hidden;text-wrap:normal}.edit-field[_ngcontent-%COMP%]   .url[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow-wrap:break-word;padding:0;margin:0}.pagination-container[_ngcontent-%COMP%]{margin-top:16px;text-align:center}@media only screen and (min-width:1200px) and (max-width:1440px){.gallery[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);padding:2px;transition:.3s;grid-gap:16px;gap:16px}}@media only screen and (min-width:960px) and (max-width:1199px){.gallery[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);padding:2px;transition:.3s;grid-gap:16px;gap:16px}}@media only screen and (min-width:768px) and (max-width:959px){.container-fluid[_ngcontent-%COMP%]{width:100%;padding:0 16px}.content[_ngcontent-%COMP%]{grid-gap:12px;gap:12px}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]{width:260px}.gallery[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);padding:2px;transition:.3s;grid-gap:16px;gap:16px}}@media only screen and (max-width:599px){.header[_ngcontent-%COMP%]{width:100%;flex-direction:column;justify-content:space-between;margin:16px 0}.header[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;grid-gap:12px;gap:12px}.container-fluid[_ngcontent-%COMP%]{width:100%;padding:0}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{flex:1}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]{width:100%}.gallery[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);padding:2px;transition:.3s;grid-gap:16px;gap:16px}}"]}),t})();var z=i(65957),V=i(33817),G=i(69244),H=i(61613),B=i(31203),j=i(34535),$=i(81830),K=i(36140),W=i(65031),X=i(46535),tt=i(28858),et=i(22797),it=i(40994),nt=i(57147),rt=i(35965),at=i(69024),ot=i(99235),st=i(87672);const lt=["input"];function ct(t,e){1&t&&s._UZ(0,"mat-spinner",5)}function gt(t,e){if(1&t&&(s.TgZ(0,"div",6),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij(" ",t.noResultsMessage,"\n")}}const dt=function(t){return{"background-color":t}};let ut=(()=>{class t{constructor(t){this.showSpinner=!0,this.noResultsMessage="No results",this.noResults=!1,this.localSpinner=!1,this.filteredReturn=new s.vpe,this.filteredItems=[],this.searchForm=t.group({value:""})}ngOnInit(){this.searchForm.valueChanges.subscribe(t=>{this.showSpinner&&(this.localSpinner=!0),t.value?(this.filteredItems=null==this.displayMember?this.array.filter(e=>e.toLowerCase().includes(t.value.toLowerCase())):this.hasGroup&&this.groupArrayName&&this.displayMember?this.array.map(e=>{const i=Object.assign({},e);return i[this.groupArrayName]=i[this.groupArrayName].filter(e=>e[this.displayMember].toLowerCase().includes(t.value.toLowerCase())),i}).filter(t=>t[this.groupArrayName].length>0):this.array.filter(e=>e[this.displayMember].toLowerCase().includes(t.value.toLowerCase())),this.noResults=null==this.filteredItems||0===this.filteredItems.length):(this.filteredItems=this.array.slice(),this.noResults=!1),this.filteredReturn.emit(this.filteredItems),setTimeout(()=>{this.showSpinner&&(this.localSpinner=!1)},2e3)}),setTimeout(()=>{this.input.nativeElement.focus()},500),this.placeholder||(this.placeholder="Search...")}handleKeydown(t){(t.key&&1===t.key.length||t.keyCode>=ot.A&&t.keyCode<=ot.Z||t.keyCode>=ot.xE&&t.keyCode<=ot.aO||t.keyCode===ot.L_)&&t.stopPropagation()}ngOnDestroy(){this.filteredReturn.emit(this.array)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(a.qu))},t.\u0275cmp=s.Xpm({type:t,selectors:[["mat-select-filter"]],viewQuery:function(t,e){if(1&t&&s.Gf(lt,7),2&t){let t;s.iGM(t=s.CRH())&&(e.input=t.first)}},inputs:{showSpinner:"showSpinner",noResultsMessage:"noResultsMessage",placeholder:"placeholder",array:"array",color:"color",displayMember:"displayMember",hasGroup:"hasGroup",groupArrayName:"groupArrayName"},outputs:{filteredReturn:"filteredReturn"},decls:6,vars:7,consts:[[1,"mat-filter",3,"formGroup","ngStyle"],["matInput","","formControlName","value",1,"mat-filter-input",3,"placeholder","keydown"],["input",""],["class","spinner","diameter","16",4,"ngIf"],["class","noResultsMessage",4,"ngIf"],["diameter","16",1,"spinner"],[1,"noResultsMessage"]],template:function(t,e){1&t&&(s.TgZ(0,"form",0),s.TgZ(1,"div"),s.TgZ(2,"input",1,2),s.NdJ("keydown",function(t){return e.handleKeydown(t)}),s.qZA(),s.YNc(4,ct,1,0,"mat-spinner",3),s.qZA(),s.YNc(5,gt,2,1,"div",4),s.qZA()),2&t&&(s.Q6J("formGroup",e.searchForm)("ngStyle",s.VKq(5,dt,e.color?e.color:"white")),s.xp6(2),s.s9C("placeholder",e.placeholder),s.xp6(2),s.Q6J("ngIf",e.localSpinner),s.xp6(1),s.Q6J("ngIf",e.noResults))},directives:[a._Y,a.JL,a.sg,n.PC,a.Fj,a.JJ,a.u,n.O5,st.$g],styles:[".mat-filter[_ngcontent-%COMP%]{position:sticky;top:0;border-bottom:1px solid grey;z-index:100;font-size:inherit;box-shadow:none;border-radius:0;padding:16px;box-sizing:border-box}.mat-filter-input[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;border:0;background-color:unset;color:grey;width:100%}.spinner[_ngcontent-%COMP%]{position:absolute;right:16px;top:calc(50% - 8px)}.noResultsMessage[_ngcontent-%COMP%]{margin-top:10px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:16px}"]}),t})(),pt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[n.ez,a.u5,a.UX,st.Cq]]}),t})();const ht=["formTemplate"],mt=["attributeOpt"];function ft(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",67),s._UZ(1,"img",68),s.TgZ(2,"div",69),s.TgZ(3,"button",70),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw(2).removeSelectImage(e)}),s.TgZ(4,"mat-icon"),s._uU(5,"delete"),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(1),s.Q6J("src",t,s.LSH)("alt",t)}}function bt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",65),s.NdJ("cdkDropListDropped",function(e){return s.CHM(t),s.oxw().drop(e)}),s.YNc(1,ft,6,2,"div",66),s.qZA()}if(2&t){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.chooseImage)}}function yt(t,e){if(1&t&&(s.TgZ(0,"mat-option",22),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.Q6J("value",t.value),s.xp6(1),s.Oqu(t.viewValue)}}function vt(t,e){1&t&&(s.TgZ(0,"div"),s.TgZ(1,"mat-form-field",16),s.TgZ(2,"mat-label"),s._uU(3,"Discount Amount"),s.qZA(),s._UZ(4,"input",71),s._UZ(5,"mat-error"),s.qZA(),s.qZA())}function Ct(t,e){if(1&t&&(s.TgZ(0,"mat-option",22),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.Q6J("value",t.value),s.xp6(1),s.Oqu(t.viewValue)}}function Zt(t,e){1&t&&(s.TgZ(0,"div"),s.TgZ(1,"mat-form-field",16),s.TgZ(2,"mat-label"),s._uU(3,"Quantity"),s.qZA(),s._UZ(4,"input",72),s._UZ(5,"mat-error"),s.qZA(),s.qZA())}function _t(t,e){if(1&t&&(s.TgZ(0,"mat-option",22),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.Q6J("value",t.value),s.xp6(1),s.Oqu(t.viewValue)}}function xt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"mat-select-filter",73),s.NdJ("filteredReturn",function(e){return s.CHM(t),s.oxw().filteredCatList=e}),s.qZA()}if(2&t){const t=s.oxw();s.Q6J("placeholder","Filter Category List")("array",t.categories)("displayMember","categoryName")}}function At(t,e){if(1&t&&(s.TgZ(0,"mat-option",22),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.Q6J("value",t._id),s.xp6(1),s.hij(" ",t.categoryName," ")}}function Pt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"mat-select-filter",73),s.NdJ("filteredReturn",function(e){return s.CHM(t),s.oxw().filteredSubCatList=e}),s.qZA()}if(2&t){const t=s.oxw();s.Q6J("placeholder","Filter Sub Category List")("array",t.subCategories)("displayMember","subCategoryName")}}function Ot(t,e){if(1&t&&(s.TgZ(0,"mat-option",22),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.Q6J("value",t._id),s.xp6(1),s.hij(" ",t.subCategoryName," ")}}function St(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"mat-select-filter",73),s.NdJ("filteredReturn",function(e){return s.CHM(t),s.oxw().filteredBrandList=e}),s.qZA()}if(2&t){const t=s.oxw();s.Q6J("placeholder","Filter brand List")("array",t.brands)("displayMember","brandName")}}function Tt(t,e){if(1&t&&(s.TgZ(0,"mat-option",22),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.Q6J("value",t._id),s.xp6(1),s.hij(" ",t.brandName," ")}}function Mt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"mat-select-filter",73),s.NdJ("filteredReturn",function(e){return s.CHM(t),s.oxw().filteredAttributesList=e}),s.qZA()}if(2&t){const t=s.oxw();s.Q6J("placeholder","Filter attributes")("array",t.attributes)("displayMember","attributeName")}}function wt(t,e){if(1&t&&(s.TgZ(0,"mat-option",22,74),s._uU(2),s.qZA()),2&t){const t=e.$implicit;s.Q6J("value",t._id),s.xp6(2),s.hij(" ",t.attributeName," ")}}function qt(t,e){1&t&&(s.TgZ(0,"h4"),s._uU(1,"Select Attribute Data"),s.qZA())}function Nt(t,e){if(1&t&&(s.TgZ(0,"mat-option",22),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.Q6J("value",t),s.xp6(1),s.hij(" ",t," ")}}function It(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",75),s.TgZ(1,"mat-form-field",76),s.TgZ(2,"mat-label"),s._uU(3),s.qZA(),s.TgZ(4,"mat-select",77),s.YNc(5,Nt,2,2,"mat-option",23),s.qZA(),s.TgZ(6,"mat-error"),s._uU(7,"This field is required."),s.qZA(),s.qZA(),s.TgZ(8,"button",78),s.NdJ("click",function(){const e=s.CHM(t).index;return s.oxw().removeAttributesField(e)}),s.TgZ(9,"mat-icon"),s._uU(10,"delete"),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.index,i=s.oxw();s.xp6(1),s.Q6J("formGroupName",t),s.xp6(2),s.Oqu(null==i.selectedAttributes[t]?null:i.selectedAttributes[t].attributeName),s.xp6(2),s.Q6J("ngForOf",null==i.selectedAttributes[t]?null:i.selectedAttributes[t].attributeValues)}}function Ft(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"mat-select-filter",73),s.NdJ("filteredReturn",function(e){return s.CHM(t),s.oxw().filteredTagsList=e}),s.qZA()}if(2&t){const t=s.oxw();s.Q6J("placeholder","Filter tags")("array",t.tags)("displayMember","tagName")}}function Dt(t,e){if(1&t&&(s.TgZ(0,"mat-option",22),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.Q6J("value",t._id),s.xp6(1),s.hij(" ",t.tagName," ")}}function Ut(t,e){if(1&t&&(s.TgZ(0,"mat-option",22),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.Q6J("value",t.value),s.xp6(1),s.Oqu(t.viewValue)}}let Jt=(()=>{class t{constructor(t,e,i,n,r,a,o,s,l,c,g,d,u,p,h){this.fb=t,this.utilsService=e,this.uiService=i,this.storageService=n,this.router=r,this.attributeService=a,this.brandService=o,this.categoryService=s,this.subCategoryService=l,this.productService=c,this.tagService=g,this.spinner=d,this.activatedRoute=u,this.textEditorCtrService=p,this.dialog=h,this.autoSlug=!0,this.chooseImage=[],this.discountType=[{value:1,viewValue:"Percentage"},{value:2,viewValue:"Cash"}],this.stockVisibilities=[{value:!0,viewValue:"Show Stock"},{value:!1,viewValue:"Hide Stock"}],this.emiStatus=[{value:3,viewValue:"3 Months"},{value:6,viewValue:"6 Months"},{value:12,viewValue:"12 Months"}],this.productsVisibilities=[{value:!0,viewValue:"Visible"},{value:!1,viewValue:"Hide"}],this.brands=[],this.categories=[],this.subCategories=[],this.attributes=[],this.tags=[],this.categoryAttributes=[],this.subCategoryAttributes=[],this.selectedAttributes=[],this.id=null,this.product=null}ngOnInit(){this.initFormGroup(),this.editor=new z.ML,this.editorWarrantyService=new z.ML,this.editorWarrantyPolicy=new z.ML,this.editorPaymentPolicy=new z.ML,this.editorDeliveryPolicy=new z.ML,this.editorShortDescription=new z.ML,this.subRouteOne=this.activatedRoute.paramMap.subscribe(t=>{this.id=t.get("id"),this.id?this.getSingleProductById():(this.getAllAttributes(),this.getAllCategory(),this.getAllBrands(),this.getAllTags())}),this.autoGenerateSlug()}openComponentDialog(){this.dialog.open(Y,{panelClass:["theme-dialog","full-screen-modal-lg"],width:"100%",minHeight:"100%",autoFocus:!1,disableClose:!0}).afterClosed().subscribe(t=>{t&&t.data&&t.data.length>0&&this.getPickedImages(t.data)})}getPickedImages(t){if(this.chooseImage&&this.chooseImage.length>0){const e=t.map(t=>t.url);this.chooseImage=this.utilsService.mergeArrayString(e,this.chooseImage)}else this.chooseImage=t.map(t=>t.url);this.dataForm.patchValue({images:this.chooseImage})}initFormGroup(){this.dataForm=this.fb.group({productName:[null,a.kI.required],productSlug:[null,a.kI.required],images:[null],sku:[null],price:[null,a.kI.required],discountType:[null],discountAmount:[null],stockVisibility:[null],productVisibility:[null],quantity:[null],category:[null],categorySlug:[null],subCategory:[null],subCategorySlug:[null],brand:[null],brandSlug:[null],tags:[null],warrantyServices:[null],shortDescription:[null],description:[null],attributes:[null],deliveryPolicy:[null],paymentPolicy:[null],warrantyPolicy:[null],campaignStartDate:[null],campaignStartTime:[null],campaignEndDate:[null],campaignEndTime:[null],emiStatus:[null],filterData:this.fb.array([])}),this.filterDataArray=this.dataForm.get("filterData")}onSubmit(){if(this.dataForm.invalid)return void this.uiService.warn("Please complete all the required field");let t;this.spinner.show();const e=this.dataForm.value,i=this.categories.find(t=>t._id===e.category).categorySlug;e.subCategory&&(t=this.subCategories.find(t=>t._id===e.subCategory).subCategorySlug);const n={categorySlug:i,subCategorySlug:t||null,brandSlug:this.brands.find(t=>t._id===e.brand).brandSlug,images:this.chooseImage,campaignStartDate:e.campaignStartDate?this.utilsService.getDateString(e.campaignStartDate):null,campaignEndDate:e.campaignEndDate?this.utilsService.getDateString(e.campaignEndDate):null,attributes:this.dataForm.value.filterData.map(t=>t._id)},r=Object.assign(Object.assign({},e),n);if(this.id){const t=Object.assign(Object.assign({},r),{_id:this.id});this.editProductById(t)}else this.addSingleProduct(r)}autoGenerateSlug(){var t;if(!0===this.autoSlug)this.sub=null===(t=this.dataForm)||void 0===t?void 0:t.get("productName").valueChanges.pipe().subscribe(t=>{var e;const i=this.utilsService.transformToSlug(t||"");null===(e=this.dataForm)||void 0===e||e.patchValue({productSlug:i})});else{if(null==this.sub)return;this.sub.unsubscribe()}}onHoldInputData(){var t;this.storageService.storeInputData(null===(t=this.dataForm)||void 0===t?void 0:t.value,"PRODUCT_INPUT")}removeSelectImage(t){const e=this.chooseImage.findIndex(e=>e===t);this.chooseImage.splice(e,1)}patchFormValueWithArray(){this.product&&this.product.filterData&&this.product.filterData.length&&(this.selectedAttributes=this.product.filterData.map(t=>({_id:t._id,attributeName:t.attributeName,attributeSlug:this.utilsService.transformToSlug(t.attributeName),attributeValues:this.attributes.find(e=>e._id===t._id).attributeValues})),this.product.filterData.map((t,e)=>{var i;const n=this.fb.group({_id:[t._id],attributeName:[t.attributeName],attributeValues:[t.attributeValues]});(null===(i=this.dataForm)||void 0===i?void 0:i.get("filterData")).push(n)}))}patchFormData(){this.chooseImage=this.product.images,this.dataForm.patchValue(this.product)}onSelectCategory(t){this.categoryAttributes=this.categories.find(e=>e._id===t.value).attributes,this.dataForm.patchValue({subCategory:null}),this.getAllSubCategoryByCategoryId(t.value,!0)}onSelectSubCategory(t){this.subCategoryAttributes=this.subCategories.find(e=>e._id===t.value).attributes}onSelectAttribute(t){var e;const i=this.selectedAttributes.findIndex(e=>e._id===t.source.value);if(t.value&&-1===i){const i=this.attributes.find(e=>e._id===t.source.value);this.selectedAttributes.push(i);const n=this.fb.group({_id:[i._id],attributeName:[i.attributeName],attributeValues:[null,a.kI.required]});(null===(e=this.dataForm)||void 0===e?void 0:e.get("filterData")).push(n)}}removeAttributesField(t){var e;null===(e=this.filterDataArray)||void 0===e||e.removeAt(t),this.selectedAttributes.splice(t,1)}removeAttributesFormArray(){this.filterDataArray.controls.forEach((t,e)=>{var i;null===(i=this.filterDataArray)||void 0===i||i.removeAt(e)}),this.filterDataArray.controls.splice(0,this.filterDataArray.controls.length),this.selectedAttributes=[]}getAllAttributes(){this.subDataTwo=this.attributeService.getAllAttributes().subscribe(t=>{this.attributes=t.data,this.filteredAttributesList=this.attributes.slice(),this.product&&this.patchFormValueWithArray()},t=>{console.log(t)})}getAllCategory(){this.subDataThree=this.categoryService.getAllCategory().subscribe(t=>{if(this.categories=t.data,this.filteredCatList=this.categories.slice(),this.product){const t=this.product.category;this.dataForm.patchValue({category:this.categories.find(e=>e._id===t._id)._id}),this.getAllSubCategoryByCategoryId(t._id,!1)}},t=>{console.log(t)})}getAllSubCategory(){this.subCategoryService.getAllSubCategory().subscribe(t=>{if(this.subCategories=t.data,this.filteredSubCatList=this.subCategories.slice(),this.product){const t=this.product.subCategory;t&&this.dataForm.patchValue({subCategory:this.subCategories.find(e=>e._id===t._id)._id})}},t=>{console.log(t)})}getAllSubCategoryByCategoryId(t,e){this.subCategoryService.getSubCategoryByCategoryId(t).subscribe(t=>{if(this.subCategories=t.data,this.filteredSubCatList=this.subCategories.slice(),this.product&&!e){const t=this.product.subCategory;this.dataForm.patchValue({subCategory:this.subCategories.find(e=>e._id===t._id)._id})}},t=>{console.log(t)})}getAllBrands(){this.subDataFour=this.brandService.getAllBrands().subscribe(t=>{if(this.brands=t.data,this.filteredBrandList=this.brands.slice(),this.product){const t=this.product.brand;this.dataForm.patchValue({brand:this.brands.find(e=>e._id===t._id)._id})}},t=>{console.log(t)})}getAllTags(){this.subDataFive=this.tagService.getAllTags().subscribe(t=>{this.tags=t.data,this.filteredTagsList=this.tags.slice()},t=>{console.log(t)})}addSingleProduct(t){this.productService.addSingleProduct(t).subscribe(t=>{this.spinner.hide(),this.uiService.success(t.message),this.storageService.removeSessionData("PRODUCT_INPUT"),this.resetForm()},t=>{this.spinner.hide(),t.error.statusCode===V.q.EXISTS_OR_NOT_ACCEPT&&(this.dataForm.controls.productSlug.setErrors({incorrect:!0}),window.scrollTo({top:0,left:0,behavior:"smooth"})),console.log(t)})}editProductById(t){this.productService.editProductById(t).subscribe(t=>{this.spinner.hide(),this.uiService.success(t.message),this.storageService.removeSessionData("PRODUCT_INPUT")},t=>{this.spinner.hide(),console.log(t)})}getSingleProductById(){this.subDataOne=this.productService.getSingleProductById(this.id).subscribe(t=>{this.product=t.data,this.product&&(this.patchFormData(),this.getAllAttributes(),this.getAllCategory(),this.getAllBrands(),this.getAllTags())},t=>{console.log(t)})}hierarchyAttributes(){if(this.attributes=this.utilsService.margeMultipleArrayUnique("_id",this.categoryAttributes,this.subCategoryAttributes),this.filteredAttributesList=this.attributes.slice(),this.product&&this.product.attributes&&this.product.attributes.length>0){const t=this.product.attributes.map(t=>t._id);this.dataForm.patchValue({attributes:t}),this.patchFormValueWithArray()}}resetForm(){this.formTemplate.resetForm(),this.filterDataArray=null,this.chooseImage=[],this.selectedAttributes=[],this.initFormGroup(),this.autoGenerateSlug()}drop(t){(0,G.bA)(this.chooseImage,t.previousIndex,t.currentIndex)}ngOnDestroy(){this.storageService.removeSessionData("PRODUCT_INPUT"),this.editor.destroy(),this.editorWarrantyService.destroy(),this.editorWarrantyPolicy.destroy(),this.editorPaymentPolicy.destroy(),this.editorDeliveryPolicy.destroy(),this.editorShortDescription.destroy(),this.sub&&this.sub.unsubscribe(),this.subRouteOne&&this.subRouteOne.unsubscribe(),this.subDataOne&&this.subDataOne.unsubscribe(),this.subDataTwo&&this.subDataTwo.unsubscribe(),this.subDataThree&&this.subDataThree.unsubscribe(),this.subDataFour&&this.subDataFour.unsubscribe(),this.subDataFive&&this.subDataFive.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(a.qu),s.Y36(g.F),s.Y36(u.F),s.Y36(H.V),s.Y36(r.F0),s.Y36(B.c),s.Y36(j.c),s.Y36($.H),s.Y36(K.Q),s.Y36(W.M),s.Y36(X.c),s.Y36(T.t2),s.Y36(r.gz),s.Y36(tt.W),s.Y36(o.uw))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-add-product"]],viewQuery:function(t,e){if(1&t&&(s.Gf(ht,5),s.Gf(mt,5)),2&t){let t;s.iGM(t=s.CRH())&&(e.formTemplate=t.first),s.iGM(t=s.CRH())&&(e.attributeOpt=t.first)}},decls:196,vars:47,consts:[[1,"product-form"],[1,"container"],[1,"product-form-main"],[1,"product-card"],[1,"card-area"],[1,"card-header-area"],[1,"card-title"],[1,"check",3,"ngModel","ngModelChange","change"],[1,"card-content"],[1,"sub-title"],[1,"plus-box",3,"click"],["class","img-container","cdkDropList","","cdkDropListOrientation","vertical",3,"cdkDropListDropped",4,"ngIf"],[1,"product-form-details"],[3,"formGroup","ngSubmit"],["formTemplate","ngForm"],[1,"form-area-top"],["appearance","outline"],["matInput","","placeholder","name","type","text","formControlName","productName","required",""],["matInput","","placeholder","slug","type","text","formControlName","productSlug","required","",3,"readonly"],["matInput","","placeholder","sku","type","text","formControlName","sku"],["matInput","","placeholder","price","type","number","formControlName","price","required","","digitOnly",""],["formControlName","discountType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","stockVisibility"],["multiple","","formControlName","emiStatus"],["placeholder","Select category","required","","formControlName","category",3,"disableOptionCentering","selectionChange"],["select",""],[3,"placeholder","array","displayMember","filteredReturn",4,"ngIf"],["placeholder","Select sub category","required","","formControlName","subCategory",3,"disableOptionCentering","selectionChange"],["select2",""],["placeholder","Select brand","required","","formControlName","brand",3,"disableOptionCentering"],["select3",""],["placeholder","Select attributes",3,"disableOptionCentering","selectionChange"],["select4",""],[1,"title","w-100"],["formArrayName","filterData","fxLayout","row wrap",1,"filter-input-area"],["class","mat-field-with-action px-1 w-100","fxFlex","50",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","10px",1,"d-flex"],["appearance","outline",1,"w-100"],["placeholder","Select tags","multiple","","formControlName","tags",3,"disableOptionCentering"],["selectTags",""],["formControlName","productVisibility"],["appearance","outline",1,"w-100",3,"click"],["readonly","","formControlName","campaignStartDate","matInput","","placeholder","Enter campaign Start Date",3,"matDatepicker"],["matSuffix","",3,"for"],["startDate",""],["type","time","formControlName","campaignStartTime","matInput","","placeholder","Enter campaign start time",3,"required"],["readonly","","formControlName","campaignEndDate","matInput","","placeholder","Enter campaign End Date",3,"matDatepicker"],["expiryDate",""],["type","time","formControlName","campaignEndTime","matInput","","placeholder","Enter campaign end time",3,"required"],[1,"editor","warranty-service",2,"margin-bottom","10px"],[3,"editor"],["placeholder","Enter Delivery Policy","formControlName","deliveryPolicy","outputFormat","html",3,"editor"],["placeholder","Enter Payment Policy","formControlName","paymentPolicy","outputFormat","html",3,"editor"],["placeholder","Enter Warranty Policy","formControlName","warrantyPolicy","outputFormat","html",3,"editor"],["placeholder","Enter product warranty services","formControlName","warrantyServices","outputFormat","html",3,"editor"],["placeholder","Enter product short description","formControlName","shortDescription","outputFormat","html",3,"editor"],[1,"editor"],["placeholder","Enter product full specification","formControlName","description","outputFormat","html",3,"editor"],[1,"submit-btn"],["mat-raised-button","","color","primary","type","submit"],["bdColor","rgba(0,0,0,0.25)","size","medium","color","#fff","type","ball-clip-rotate",2,"width","100vw","height","100vh",3,"fullScreen"],[2,"color","white"],["cdkDropList","","cdkDropListOrientation","vertical",1,"img-container",3,"cdkDropListDropped"],["class","preview","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"preview"],[3,"src","alt"],[1,"overlay-ac"],["mat-icon-button","","color","warn",3,"click"],["matInput","","placeholder","price","type","number","formControlName","discountAmount","digitOnly",""],["matInput","","placeholder","quantity","type","number","formControlName","quantity","digitOnly",""],[3,"placeholder","array","displayMember","filteredReturn"],["attributeOpt",""],["fxFlex","50",1,"mat-field-with-action","px-1","w-100"],["appearance","outline",3,"formGroupName"],["formControlName","attributeValues","required",""],["type","button",3,"click"]],template:function(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"section",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"mat-card",4),s.TgZ(5,"mat-card-header",5),s.TgZ(6,"div",6),s.TgZ(7,"mat-card-title"),s._uU(8,"Add New Product "),s.TgZ(9,"mat-checkbox",7),s.NdJ("ngModelChange",function(t){return e.autoSlug=t})("change",function(){return e.autoGenerateSlug()}),s._uU(10,"Auto Slug "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(11,"mat-card-content",8),s.TgZ(12,"div",9),s.TgZ(13,"h2"),s._uU(14,"image upload "),s.TgZ(15,"span"),s._uU(16,"(max 5 max image)"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(17,"div",10),s.NdJ("click",function(){return e.openComponentDialog()}),s.TgZ(18,"span"),s._uU(19,"+"),s.qZA(),s.qZA(),s.YNc(20,bt,2,1,"div",11),s.qZA(),s.qZA(),s.qZA(),s.TgZ(21,"div",12),s.TgZ(22,"form",13,14),s.NdJ("ngSubmit",function(){return e.onSubmit()}),s.TgZ(24,"div",15),s.TgZ(25,"div"),s.TgZ(26,"mat-form-field",16),s.TgZ(27,"mat-label"),s._uU(28,"Name"),s.qZA(),s._UZ(29,"input",17),s._UZ(30,"mat-error"),s.qZA(),s.qZA(),s.TgZ(31,"div"),s.TgZ(32,"mat-form-field",16),s.TgZ(33,"mat-label"),s._uU(34,"Slug"),s.qZA(),s._UZ(35,"input",18),s._UZ(36,"mat-error"),s.qZA(),s.qZA(),s.TgZ(37,"div"),s.TgZ(38,"mat-form-field",16),s.TgZ(39,"mat-label"),s._uU(40,"Sku"),s.qZA(),s._UZ(41,"input",19),s._UZ(42,"mat-error"),s.qZA(),s.qZA(),s.TgZ(43,"div"),s.TgZ(44,"mat-form-field",16),s.TgZ(45,"mat-label"),s._uU(46,"Price"),s.qZA(),s._UZ(47,"input",20),s._UZ(48,"mat-error"),s.qZA(),s.qZA(),s.TgZ(49,"div"),s.TgZ(50,"mat-form-field",16),s.TgZ(51,"mat-label"),s._uU(52,"Discount Type"),s.qZA(),s.TgZ(53,"mat-select",21),s.TgZ(54,"mat-option",22),s._uU(55,"None"),s.qZA(),s.YNc(56,yt,2,2,"mat-option",23),s.qZA(),s.qZA(),s.qZA(),s.YNc(57,vt,6,0,"div",24),s.TgZ(58,"div"),s.TgZ(59,"mat-form-field",16),s.TgZ(60,"mat-label"),s._uU(61,"Stock Visibility"),s.qZA(),s.TgZ(62,"mat-select",25),s.YNc(63,Ct,2,2,"mat-option",23),s.qZA(),s.qZA(),s.qZA(),s.YNc(64,Zt,6,0,"div",24),s.TgZ(65,"div"),s.TgZ(66,"mat-form-field",16),s.TgZ(67,"mat-label"),s._uU(68,"EMI Options"),s.qZA(),s.TgZ(69,"mat-select",26),s.YNc(70,_t,2,2,"mat-option",23),s.qZA(),s.qZA(),s.qZA(),s.TgZ(71,"div"),s.TgZ(72,"mat-form-field",16),s.TgZ(73,"mat-label"),s._uU(74,"Category"),s.qZA(),s.TgZ(75,"mat-select",27,28),s.NdJ("selectionChange",function(t){return e.onSelectCategory(t)}),s.YNc(77,xt,1,3,"mat-select-filter",29),s.YNc(78,At,2,2,"mat-option",23),s.qZA(),s.TgZ(79,"mat-error"),s._uU(80,"This field is required"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(81,"div"),s.TgZ(82,"mat-form-field",16),s.TgZ(83,"mat-label"),s._uU(84,"Sub Category"),s.qZA(),s.TgZ(85,"mat-select",30,31),s.NdJ("selectionChange",function(t){return e.onSelectSubCategory(t)}),s.YNc(87,Pt,1,3,"mat-select-filter",29),s.YNc(88,Ot,2,2,"mat-option",23),s.qZA(),s.TgZ(89,"mat-error"),s._uU(90,"This field is required"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(91,"div"),s.TgZ(92,"mat-form-field",16),s.TgZ(93,"mat-label"),s._uU(94,"Brand"),s.qZA(),s.TgZ(95,"mat-select",32,33),s.YNc(97,St,1,3,"mat-select-filter",29),s.YNc(98,Tt,2,2,"mat-option",23),s.qZA(),s.TgZ(99,"mat-error"),s._uU(100,"This field is required"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(101,"div"),s.TgZ(102,"mat-form-field",16),s.TgZ(103,"mat-label"),s._uU(104,"Select Attribute"),s.qZA(),s.TgZ(105,"mat-select",34,35),s.NdJ("selectionChange",function(t){return e.onSelectAttribute(t)}),s.YNc(107,Mt,1,3,"mat-select-filter",29),s.YNc(108,wt,3,2,"mat-option",23),s.qZA(),s.TgZ(109,"mat-error"),s._uU(110,"This field is required"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(111,"div",36),s.YNc(112,qt,2,0,"h4",24),s.qZA(),s.TgZ(113,"div",37),s.YNc(114,It,11,3,"div",38),s.qZA(),s.TgZ(115,"div",39),s.TgZ(116,"mat-form-field",40),s.TgZ(117,"mat-label"),s._uU(118,"Tags"),s.qZA(),s.TgZ(119,"mat-select",41,42),s.YNc(121,Ft,1,3,"mat-select-filter",29),s.YNc(122,Dt,2,2,"mat-option",23),s.qZA(),s.TgZ(123,"mat-error"),s._uU(124,"This field is required"),s.qZA(),s.qZA(),s.TgZ(125,"mat-form-field",40),s.TgZ(126,"mat-label"),s._uU(127,"Product Visibility"),s.qZA(),s.TgZ(128,"mat-select",43),s.YNc(129,Ut,2,2,"mat-option",23),s.qZA(),s.qZA(),s.qZA(),s.TgZ(130,"div",39),s.TgZ(131,"mat-form-field",44),s.NdJ("click",function(){return s.CHM(t),s.MAs(137).open()}),s.TgZ(132,"mat-label"),s._uU(133,"Campaign Start Date"),s.qZA(),s._UZ(134,"input",45),s._UZ(135,"mat-datepicker-toggle",46),s._UZ(136,"mat-datepicker",null,47),s.TgZ(138,"mat-error"),s._uU(139,"This field is required"),s.qZA(),s.qZA(),s.TgZ(140,"mat-form-field",16),s.TgZ(141,"mat-label"),s._uU(142,"Campaign Start Time"),s.qZA(),s._UZ(143,"input",48),s.TgZ(144,"mat-error"),s._uU(145,"This field is required"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(146,"div",39),s.TgZ(147,"mat-form-field",44),s.NdJ("click",function(){return s.CHM(t),s.MAs(153).open()}),s.TgZ(148,"mat-label"),s._uU(149,"Campaign End Date"),s.qZA(),s._UZ(150,"input",49),s._UZ(151,"mat-datepicker-toggle",46),s._UZ(152,"mat-datepicker",null,50),s.TgZ(154,"mat-error"),s._uU(155,"This field is required"),s.qZA(),s.qZA(),s.TgZ(156,"mat-form-field",16),s.TgZ(157,"mat-label"),s._uU(158,"Campaign End Time"),s.qZA(),s._UZ(159,"input",51),s.TgZ(160,"mat-error"),s._uU(161,"This field is required"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(162,"div",52),s.TgZ(163,"label"),s._uU(164,"Enter product delivery policy"),s.qZA(),s._UZ(165,"ngx-editor-menu",53),s._UZ(166,"ngx-editor",54),s.qZA(),s.TgZ(167,"div",52),s.TgZ(168,"label"),s._uU(169,"Enter product payment policy"),s.qZA(),s._UZ(170,"ngx-editor-menu",53),s._UZ(171,"ngx-editor",55),s.qZA(),s.TgZ(172,"div",52),s.TgZ(173,"label"),s._uU(174,"Enter product warranty policy"),s.qZA(),s._UZ(175,"ngx-editor-menu",53),s._UZ(176,"ngx-editor",56),s.qZA(),s.TgZ(177,"div",52),s.TgZ(178,"label"),s._uU(179,"Enter product warranty services"),s.qZA(),s._UZ(180,"ngx-editor-menu",53),s._UZ(181,"ngx-editor",57),s.qZA(),s.TgZ(182,"div",52),s.TgZ(183,"label"),s._uU(184,"Enter product short description"),s.qZA(),s._UZ(185,"ngx-editor-menu",53),s._UZ(186,"ngx-editor",58),s.qZA(),s.TgZ(187,"div",59),s._UZ(188,"ngx-editor-menu",53),s._UZ(189,"ngx-editor",60),s.qZA(),s.TgZ(190,"div",61),s.TgZ(191,"button",62),s._uU(192,"Submit"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(193,"ngx-spinner",63),s.TgZ(194,"p",64),s._uU(195," Loading... "),s.qZA(),s.qZA()}if(2&t){const t=s.MAs(76),i=s.MAs(86),n=s.MAs(96),r=s.MAs(106),a=s.MAs(120),o=s.MAs(137),l=s.MAs(153);s.xp6(9),s.Q6J("ngModel",e.autoSlug),s.xp6(11),s.Q6J("ngIf",e.chooseImage&&e.chooseImage.length>0),s.xp6(2),s.Q6J("formGroup",e.dataForm),s.xp6(13),s.Q6J("readonly",e.autoSlug),s.xp6(19),s.Q6J("value",null),s.xp6(2),s.Q6J("ngForOf",e.discountType),s.xp6(1),s.Q6J("ngIf",e.dataForm.value.discountType),s.xp6(6),s.Q6J("ngForOf",e.stockVisibilities),s.xp6(1),s.Q6J("ngIf",e.dataForm.value.stockVisibility),s.xp6(6),s.Q6J("ngForOf",e.emiStatus),s.xp6(5),s.Q6J("disableOptionCentering",!0),s.xp6(2),s.Q6J("ngIf",t.focused),s.xp6(1),s.Q6J("ngForOf",e.filteredCatList),s.xp6(7),s.Q6J("disableOptionCentering",!0),s.xp6(2),s.Q6J("ngIf",i.focused),s.xp6(1),s.Q6J("ngForOf",e.filteredSubCatList),s.xp6(7),s.Q6J("disableOptionCentering",!0),s.xp6(2),s.Q6J("ngIf",n.focused),s.xp6(1),s.Q6J("ngForOf",e.filteredBrandList),s.xp6(7),s.Q6J("disableOptionCentering",!0),s.xp6(2),s.Q6J("ngIf",r.focused),s.xp6(1),s.Q6J("ngForOf",e.filteredAttributesList),s.xp6(4),s.Q6J("ngIf",(null==e.filterDataArray?null:e.filterDataArray.controls.length)>0),s.xp6(2),s.Q6J("ngForOf",null==e.filterDataArray?null:e.filterDataArray.controls),s.xp6(5),s.Q6J("disableOptionCentering",!0),s.xp6(2),s.Q6J("ngIf",a.focused),s.xp6(1),s.Q6J("ngForOf",e.filteredTagsList),s.xp6(7),s.Q6J("ngForOf",e.productsVisibilities),s.xp6(5),s.Q6J("matDatepicker",o),s.xp6(1),s.Q6J("for",o),s.xp6(8),s.Q6J("required",e.dataForm.get("campaignStartDate").value),s.xp6(7),s.Q6J("matDatepicker",l),s.xp6(1),s.Q6J("for",l),s.xp6(8),s.Q6J("required",e.dataForm.get("campaignEndDate").value),s.xp6(6),s.Q6J("editor",e.editorDeliveryPolicy),s.xp6(1),s.Q6J("editor",e.editorDeliveryPolicy),s.xp6(4),s.Q6J("editor",e.editorPaymentPolicy),s.xp6(1),s.Q6J("editor",e.editorPaymentPolicy),s.xp6(4),s.Q6J("editor",e.editorWarrantyPolicy),s.xp6(1),s.Q6J("editor",e.editorWarrantyPolicy),s.xp6(4),s.Q6J("editor",e.editorWarrantyService),s.xp6(1),s.Q6J("editor",e.editorWarrantyService),s.xp6(4),s.Q6J("editor",e.editorShortDescription),s.xp6(1),s.Q6J("editor",e.editorShortDescription),s.xp6(2),s.Q6J("editor",e.editor),s.xp6(1),s.Q6J("editor",e.editor),s.xp6(4),s.Q6J("fullScreen",!0)}},directives:[et.a8,et.dk,et.n5,it.oG,a.JJ,a.On,et.dn,n.O5,a._Y,a.JL,a.sg,m.KE,m.hX,q.Nt,a.Fj,a.u,a.Q7,m.TO,a.wV,nt.L,f.gD,y.ey,n.sg,a.CE,rt.xw,rt.SQ,at.hl,at.nW,m.R9,at.Mq,z.Mn,z.tP,p.lW,T.Ro,G.Wj,G.Zt,h.Hw,ut,rt.yH,a.x0],styles:[".editor[_ngcontent-%COMP%]{border:2px solid #0003;border-radius:4px}.editor[_ngcontent-%COMP%]     .NgxEditor__MenuBar{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom:1px solid #0003}.editor[_ngcontent-%COMP%]     .NgxEditor{min-height:100%;border-top-left-radius:0;border-top-right-radius:0;border:none}.editor[_ngcontent-%COMP%]     .NgxEditor__Content{min-height:380px;border-top-left-radius:0;border-top-right-radius:0;border:none}.editor[_ngcontent-%COMP%]     .CodeMirror{border:1px solid #eee;height:auto;margin-bottom:.7rem}.editor[_ngcontent-%COMP%]     .CodeMirror pre{white-space:pre!important}.editor.short-desc[_ngcontent-%COMP%]     .NgxEditor__Content{min-height:200px;border-top-left-radius:0;border-top-right-radius:0;border:none}.editor.warranty-service[_ngcontent-%COMP%]     .NgxEditor__Content{min-height:130px;border-top-left-radius:0;border-top-right-radius:0;border:none}.product-form[_ngcontent-%COMP%]{display:block;width:100%;height:auto;box-sizing:border-box;background-color:#fff;margin-bottom:200px}.d-flex[_ngcontent-%COMP%]{width:100%}.product-form-main[_ngcontent-%COMP%]{width:100%;height:auto;box-sizing:border-box;padding:20px;background-color:#fff;box-shadow:0 2px 5px 0 #ddd;display:grid;grid-template-columns:2.7fr 5fr;grid-template-rows:auto;grid-gap:20px 20px;margin-top:20px}.card-area[_ngcontent-%COMP%]{box-shadow:none;border:none;display:block;padding:10px}.card-header-area[_ngcontent-%COMP%]{margin-bottom:5px}.card-header-area[_ngcontent-%COMP%], .card-title[_ngcontent-%COMP%]{display:block;width:100%;height:auto}.card-title[_ngcontent-%COMP%]{margin-bottom:10px}.card-title[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-weight:600;font-size:20px;font-style:normal;text-transform:capitalize;display:block;font-family:Open Sans,sans-serif;margin-right:10px}.card-title[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{display:inline-block;font-weight:400;font-size:14px;margin-left:5px;color:#858585}.card-content[_ngcontent-%COMP%]{display:block;width:100%;height:auto}.card-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-transform:uppercase;font-size:15px;font-family:Open Sans,sans-serif;display:block;color:#000;font-weight:600;margin:0;line-height:20px}.sub-title[_ngcontent-%COMP%]{margin-bottom:20px}.card-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#858585;font-family:Open Sans,sans-serif;font-style:normal;font-size:14px;font-weight:400;text-transform:lowercase}.plus-box[_ngcontent-%COMP%]{height:180px;width:150px;background-color:#fff;box-shadow:0 4px 5px 0 #ddd;display:flex;align-items:center;justify-content:center;cursor:pointer}.plus-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-weight:600;font-size:20px}.img-container[_ngcontent-%COMP%]{width:100%;margin-top:24px}.img-container[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{position:relative;width:85%;max-width:150px;margin:0 auto;height:150px;overflow:hidden;cursor:pointer}.img-container[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]:hover   .overlay-ac[_ngcontent-%COMP%]{visibility:visible}.img-container[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.img-container[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .overlay-ac[_ngcontent-%COMP%]{visibility:hidden;position:absolute;left:0;top:0;width:100%;height:100%;display:grid;place-items:center;background:#06060630}.img-container[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .overlay-ac[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff4500}.filter-input-area[_ngcontent-%COMP%]{width:100%}.filter-input-area[_ngcontent-%COMP%]   .mat-field-with-action[_ngcontent-%COMP%]{display:flex}.filter-input-area[_ngcontent-%COMP%]   .mat-field-with-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#0000;border:none;margin-top:-14px;cursor:pointer;color:#666}.filter-input-area[_ngcontent-%COMP%]   .mat-field-with-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#c20101}.product-form-details[_ngcontent-%COMP%]{height:auto}.product-form-details[_ngcontent-%COMP%], .product-form-details[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:block;width:100%}.form-area-top[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:0 10px;grid-template-rows:auto}.product-form-details[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{display:block;width:100%;max-width:100%}.price[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:auto;grid-gap:0 10px}.quantity[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:0 10px}.submit-btn[_ngcontent-%COMP%]{display:block;width:100%;height:auto;margin-top:16px}.submit-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:180px}@media (max-width:991px){.product-form-main[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}@media (max-width:750px){.form-area-top[_ngcontent-%COMP%], .price[_ngcontent-%COMP%], .quantity[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}@media (max-width:500px){.card-title[_ngcontent-%COMP%], .sub-title[_ngcontent-%COMP%]{text-align:center}.plus-box[_ngcontent-%COMP%]{margin:auto}.product-form-main[_ngcontent-%COMP%]{padding:15px}.mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:1em}}"]}),t})();const kt=[{path:"",component:Jt},{path:"edit/:id",component:Jt}];let Et=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[r.Bz.forChild(kt)],r.Bz]}),t})();var Qt=i(56861),Lt=i(77154),Rt=i(67490);let Yt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[n.ez,Lt.o9,Qt.q,M.JX,a.u5,b.bB,a.UX,T.ef]]}),t})(),zt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[n.ez,Et,Qt.q,Lt.o9,a.UX,z.FP,a.u5,T.ef,nt.E7,Rt.UM,Yt,pt]]}),t})()},33817:(t,e,i)=>{"use strict";i.d(e,{q:()=>n});var n=function(t){return t[t.UN_AUTHORIZED=401]="UN_AUTHORIZED",t[t.EXISTS_OR_NOT_ACCEPT=406]="EXISTS_OR_NOT_ACCEPT",t[t.NOT_FOUND=404]="NOT_FOUND",t[t.INPUT_VALIDATION_ERROR=422]="INPUT_VALIDATION_ERROR",t[t.DATABASE_ERROR=500]="DATABASE_ERROR",t}({})},81830:(t,e,i)=>{"use strict";i.d(e,{H:()=>l});var n=i(529),r=i(42693),a=i(48318),o=i(35366);const s=n.N.apiBaseLink+"/api/product-category/";let l=(()=>{class t{constructor(t){this.httpClient=t,this.categories=[]}addCategory(t){return this.httpClient.post(s+"add-category",t)}insertManyCategory(t){return this.httpClient.post(s+"add-multiple-category",t)}getAllCategory(t){if(t){let e=new r.LE;return e=e.append("pageSize",t.pageSize),e=e.append("page",t.currentPage),this.httpClient.get(s+"get-all-categories",{params:e})}return this.httpClient.get(s+"get-all-categories")}getCategoryByCategoryId(t){return this.httpClient.get(s+"get-category-by-category-id/"+t)}editCategoryData(t){return this.httpClient.put(s+"edit-category-by-category",t)}getCategoryBySearch(t){return this.httpClient.get(s+"get-category-by-search/"+t)}deleteCategory(t){return this.httpClient.delete(s+"delete-category-by-id/"+t)}getCategoryByCategorySlug(t){return this.httpClient.get(s+"get-category-by-category-slug/"+t)}getSearchCategories(t,e){const i=e;let n=new r.LE;return n=n.append("q",t),n=n.append("pageSize",e.pageSize),n=n.append("currentPage",e.currentPage),this.httpClient.post(s+"get-categories-by-search",i,{params:n})}getAllCategoryNoRepeat(t){return new a.y(e=>{if(this.categories.length>0)e.next({data:this.categories}),e.complete();else{let i=new r.LE;t&&(i=i.append("select",t)),this.httpClient.get(s+"get-all-categories",{params:i}).subscribe(t=>{this.categories=t.data,e.next({data:this.categories}),e.complete()},t=>{console.log(t)})}})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(r.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},36140:(t,e,i)=>{"use strict";i.d(e,{Q:()=>s});var n=i(529),r=i(42693),a=i(35366);const o=n.N.apiBaseLink+"/api/product-sub-category/";let s=(()=>{class t{constructor(t){this.httpClient=t}addSubCategory(t){return this.httpClient.post(o+"add-sub-category",t)}insertManySubCategory(t){return this.httpClient.post(o+"add-multiple-sub-category",t)}getAllSubCategory(t){if(t){let e=new r.LE;return e=e.append("pageSize",t.pageSize),e=e.append("page",t.currentPage),this.httpClient.get(o+"get-all-sub-categories",{params:e})}return this.httpClient.get(o+"get-all-sub-categories")}getSubCategoryByCategoryId(t){return this.httpClient.get(o+"get-sub-category-by-category-id/"+t)}editSubCategoryData(t){return this.httpClient.put(o+"edit-sub-category-by-sub-category",t)}getSubCategoryBySubCategoryId(t){return this.httpClient.get(o+"get-sub-category-by-sub-category-id/"+t)}getSubCategoryBySearch(t){return this.httpClient.get(o+"get-sub-category-by-search/"+t)}deleteSubCategory(t){return this.httpClient.delete(o+"delete-sub-category-by-id/"+t)}getSubCategoryBySubCategorySlug(t){return this.httpClient.get(o+"get-sub-category-by-sub-category-slug/"+t)}getSearchSubCategory(t,e){const i=e;let n=new r.LE;return n=n.append("q",t),n=n.append("pageSize",e.pageSize),n=n.append("currentPage",e.currentPage),this.httpClient.post(o+"get-sub-categories-by-search",i,{params:n})}}return t.\u0275fac=function(e){return new(e||t)(a.LFG(r.eN))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},46535:(t,e,i)=>{"use strict";i.d(e,{c:()=>s});var n=i(529),r=i(42693),a=i(35366);const o=n.N.apiBaseLink+"/api/tag/";let s=(()=>{class t{constructor(t){this.httpClient=t}addTag(t){return this.httpClient.post(o+"add-single-tag",t)}insertManyTag(t){return this.httpClient.post(o+"add-multiple-tag",t)}getAllTags(t){if(t){let e=new r.LE;return e=e.append("pageSize",t.pageSize),e=e.append("page",t.currentPage),this.httpClient.get(o+"get-all-tags",{params:e})}return this.httpClient.get(o+"get-all-tags")}getTagByTagId(t){return this.httpClient.get(o+"get-tag-by-tag-id/"+t)}editTagData(t){return this.httpClient.put(o+"edit-tag-by-tag",t)}deleteTag(t){return this.httpClient.delete(o+"delete-tag-by-id/"+t)}getSearchTag(t,e){const i=e;let n=new r.LE;return n=n.append("q",t),n=n.append("pageSize",e.pageSize),n=n.append("currentPage",e.currentPage),this.httpClient.post(o+"get-tags-by-search",i,{params:n})}}return t.\u0275fac=function(e){return new(e||t)(a.LFG(r.eN))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);