(self.webpackChunkangular_ui=self.webpackChunkangular_ui||[]).push([[8341],{78341:(t,n,e)=>{"use strict";e.r(n),e.d(n,{TransactionsModule:()=>A});var a=e(61116),o=e(33464),r=e(87514),i=e(31153),c=e(35366),s=e(31179),l=e(31269),g=e(56507),d=e(29282),p=e(84369),u=e(77307),b=e(92154);const h=["dataTable"];function C(t,n){if(1&t){const t=c.EpF();c.TgZ(0,"div",10),c.TgZ(1,"button",11),c.NdJ("click",function(){return c.CHM(t),c.oxw().exportToExcel()}),c._uU(2,"Export as Excel"),c.qZA(),c.qZA()}}const P=function(t){return["../../","orders","order-details",t]};function O(t,n){if(1&t&&(c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.ALo(5,"date"),c.qZA(),c.TgZ(6,"td",12),c._uU(7),c.ALo(8,"slugToNormal"),c.qZA(),c.TgZ(9,"td"),c._uU(10),c.qZA(),c.TgZ(11,"td"),c.TgZ(12,"button",13),c.TgZ(13,"mat-icon"),c._uU(14,"visibility"),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t){const t=n.$implicit;c.xp6(1),c.uIk("data-label","Order"),c.xp6(1),c.Oqu(t.orderId?"#"+t.orderId:"N/A"),c.xp6(1),c.uIk("data-label","Date"),c.xp6(1),c.Oqu(c.lcZ(5,10,t.checkoutDate)),c.xp6(2),c.uIk("data-label","Payment Type"),c.xp6(1),c.Oqu(c.xi3(8,12,t.paymentMethod,"_")),c.xp6(2),c.uIk("data-label","Total"),c.xp6(1),c.hij("\u09f3 ",t.totalAmount,""),c.xp6(1),c.uIk("data-label","Actions"),c.xp6(1),c.Q6J("routerLink",c.VKq(15,P,t._id))}}const _=function(t,n,e){return{itemsPerPage:t,currentPage:n,totalItems:e}},m=[{path:"",component:(()=>{class t{constructor(t,n,e,a,o){this.orderService=t,this.router=n,this.activatedRoute=e,this.spinner=a,this.utilsService=o,this.orderEnum=r.i,this.transactions=[],this.currentPage=1,this.totalProducts=0,this.productsPerPage=5,this.totalProductsStore=0}ngOnInit(){this.subAcRoute=this.activatedRoute.queryParams.subscribe(t=>{this.currentPage=t&&t.page?t.page:1,this.getAllTransactionByAdmin()})}getAllTransactionByAdmin(){this.spinner.show();const t={pageSize:this.productsPerPage.toString(),currentPage:this.currentPage.toString()};this.orderService.getAllTransactionByAdmin(t).subscribe(t=>{this.transactions=t.data,this.totalProducts=t.count},t=>{console.log(t)})}onPageChanged(t){this.router.navigate([],{queryParams:{page:t}})}exportToExcel(){var t;const n=i.utils.table_to_sheet(null===(t=this.dataTable)||void 0===t?void 0:t.nativeElement),e=i.utils.book_new(),a=this.utilsService.getDateString(new Date);i.utils.book_append_sheet(e,n,"Sheet1"),i.writeFile(e,`Transaction_${a}.xlsx`)}ngOnDestroy(){this.subAcRoute&&this.subAcRoute.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(c.Y36(s.p),c.Y36(o.F0),c.Y36(o.gz),c.Y36(l.t2),c.Y36(g.F))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-transactions"]],viewQuery:function(t,n){if(1&t&&c.Gf(h,5),2&t){let t;c.iGM(t=c.CRH())&&(n.dataTable=t.first)}},decls:24,vars:16,consts:[[1,"header"],["class","download",4,"ngIf"],[1,"center-square"],[1,"table-container"],["dataTable",""],[1,"table-head"],["scope","col"],[4,"ngFor","ngForOf"],[1,"pagination-container"],[1,"product-pagination",3,"autoHide","maxSize","pageChange"],[1,"download"],["mat-raised-button","","color","primary",3,"click"],[1,"italic"],["mat-mini-fab","","color","accent",2,"margin-right","5px",3,"routerLink"]],template:function(t,n){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"h2"),c._uU(2,"Transactions"),c.qZA(),c.YNc(3,C,3,0,"div",1),c.qZA(),c._UZ(4,"hr",2),c.TgZ(5,"div",3),c.TgZ(6,"table",null,4),c.TgZ(8,"thead"),c.TgZ(9,"tr",5),c.TgZ(10,"th",6),c._uU(11),c.qZA(),c.TgZ(12,"th",6),c._uU(13),c.qZA(),c.TgZ(14,"th",6),c._uU(15),c.qZA(),c.TgZ(16,"th",6),c._uU(17),c.qZA(),c.TgZ(18,"th",6),c._uU(19),c.qZA(),c.qZA(),c.qZA(),c.YNc(20,O,15,17,"tr",7),c.ALo(21,"paginate"),c.qZA(),c.qZA(),c.TgZ(22,"div",8),c.TgZ(23,"pagination-controls",9),c.NdJ("pageChange",function(t){return n.onPageChanged(t)}),c.qZA(),c.qZA()),2&t&&(c.xp6(3),c.Q6J("ngIf",n.transactions&&n.transactions.length>0),c.xp6(8),c.Oqu("Order"),c.xp6(2),c.Oqu("Date"),c.xp6(2),c.Oqu("Payment Type"),c.xp6(2),c.Oqu("Total"),c.xp6(2),c.Oqu("Actions"),c.xp6(1),c.Q6J("ngForOf",c.xi3(21,9,n.transactions,c.kEZ(12,_,n.productsPerPage,n.currentPage,n.totalProducts))),c.xp6(3),c.Q6J("autoHide",!0)("maxSize",15))},directives:[a.O5,a.sg,d.LS,p.lW,o.rH,u.Hw],pipes:[d._s,a.uU,b.U],styles:[".table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;border:1px solid #ccc;border-collapse:collapse;margin:0;padding:0;width:100%;table-layout:fixed;font-size:16px}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:75px;height:75px;object-fit:contain}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:24px;margin:.5em 0 .75em;font-weight:700}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#f8f8f8;border:1px solid #ddd;padding:.35em}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.625em;text-align:center;word-wrap:anywhere}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px;text-transform:uppercase;background-color:#2d2d2d;color:#dbe9ff}.table-container[_ngcontent-%COMP%]   .input-in-table[_ngcontent-%COMP%]{width:100%;height:45px;border:none;outline:none;font-size:16px;font-weight:700;padding:0 15px;box-sizing:border-box;overflow:hidden;background:#b9d8fb}@media screen and (min-width:670px) and (max-width:850px){.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;margin:0 auto;border:0}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:125px;height:125px;object-fit:contain}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1.3em}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border:none;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:3px solid #ddd;display:block;margin-bottom:.625em}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;font-family:Open Sans,sans-serif;display:block;font-size:14.5px;text-align:right}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);float:left;font-weight:700;font-size:13px;text-transform:uppercase;color:#2d2d2d}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-bottom:0}.table-container[_ngcontent-%COMP%]   .input-in-table[_ngcontent-%COMP%]{width:200px;height:42px;background:#b9d8fb}.table-container[_ngcontent-%COMP%]   .td-input-md[_ngcontent-%COMP%]:before{margin-top:14px}}@media screen and (max-width:600px){.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;margin:0 auto;border:0}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:125px;height:125px;object-fit:contain}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1.3em}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border:none;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:3px solid #ddd;display:block;margin-bottom:.625em}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;font-family:Open Sans,sans-serif;display:block;font-size:14.5px;text-align:right}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);float:left;font-weight:700;font-size:13px;text-transform:uppercase;color:#2d2d2d}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-bottom:0}.table-container[_ngcontent-%COMP%]   .input-in-table[_ngcontent-%COMP%]{width:200px;height:42px;background:#b9d8fb}.table-container[_ngcontent-%COMP%]   .td-input-md[_ngcontent-%COMP%]:before{margin-top:14px}}.header[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:8px}.table-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:5px}.pagination-container[_ngcontent-%COMP%]{text-align:center}.italic[_ngcontent-%COMP%]{font-style:italic;font-weight:700;color:#00c14c}"]}),t})()}];let M=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[o.Bz.forChild(m)],o.Bz]}),t})();var f=e(56861),x=e(35965),y=e(12231);let A=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[a.ez,M,f.q,d.JX,l.ef,x.ae,y.D]]}),t})()},87514:(t,n,e)=>{"use strict";e.d(n,{i:()=>a});var a=function(t){return t[t.NONE=0]="NONE",t[t.PENDING=1]="PENDING",t[t.CONFIRM=2]="CONFIRM",t[t.PROCESSING=3]="PROCESSING",t[t.SHIPPING=4]="SHIPPING",t[t.DELIVERED=5]="DELIVERED",t[t.CANCEL=6]="CANCEL",t[t.REFUND=7]="REFUND",t}({})},31179:(t,n,e)=>{"use strict";e.d(n,{p:()=>s});var a=e(42693),o=e(529),r=e(35366);const i=o.N.apiBaseLink+"/api/order/",c=o.N.apiBaseLink+"/api/order-temporary/";let s=(()=>{class t{constructor(t){this.httpClient=t}placeOrder(t){return this.httpClient.post(i+"place-order",t)}placeTempOrder(t){return this.httpClient.post(c+"place-temp-order",t)}updateOrderSessionKey(t,n){return this.httpClient.post(c+"update-session-key/"+t+"/"+n,{})}getAllOrdersByUser(t,n){let e=new a.LE;return t?(e=e.append("pageSize",t.pageSize),e=e.append("page",t.currentPage),n&&(e=e.append("select",n)),this.httpClient.get(i+"get-all-orders-by-user",{params:e})):(n&&(e=e.append("select",n)),this.httpClient.get(i+"get-all-orders-by-user",{params:e}))}getOrderDetails(t){return this.httpClient.get(i+"get-order-details/"+t)}cancelOrderByUser(t){return this.httpClient.put(i+"cancel-order-by-user/"+t,{})}deleteOrderByAdmin(t){return this.httpClient.delete(i+"delete-order-by-admin/"+t)}getAllTransactionByUser(t,n){let e=new a.LE;return t?(e=e.append("pageSize",t.pageSize),e=e.append("page",t.currentPage),n&&(e=e.append("select",n)),this.httpClient.get(i+"get-all-transactions-by-user",{params:e})):(n&&(e=e.append("select",n)),this.httpClient.get(i+"get-all-transactions-by-user",{params:e}))}getAllOrdersByAdmin(t,n,e){let o=new a.LE;return t?(o=o.append("pageSize",t.pageSize),o=o.append("page",t.currentPage),n&&(o=o.append("select",n)),this.httpClient.post(i+"get-all-orders-by-admin",{query:e},{params:o})):(n&&(o=o.append("select",n)),this.httpClient.post(i+"get-all-orders-by-admin",{query:e},{params:o}))}getAllOrdersByAdminNoPaginate(){return this.httpClient.get(i+"get-all-orders-by-admin-no-paginate")}changeOrderStatus(t){return this.httpClient.put(i+"change-order-status",t)}getAllTransactionByAdmin(t,n){let e=new a.LE;return t?(e=e.append("pageSize",t.pageSize),e=e.append("page",t.currentPage),n&&(e=e.append("select",n)),this.httpClient.get(i+"get-all-transaction-by-admin",{params:e})):(n&&(e=e.append("select",n)),this.httpClient.get(i+"get-all-transaction-by-admin",{params:e}))}testSslSmsApi(){return this.httpClient.get(i+"sent-test-ssl-message")}}return t.\u0275fac=function(n){return new(n||t)(r.LFG(a.eN))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},92154:(t,n,e)=>{"use strict";e.d(n,{U:()=>o});var a=e(35366);let o=(()=>{class t{transform(t,n){if(t){let e;return e=t.split(n||"-"),e.map(t=>t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()).join(" ")}return""}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=a.Yjl({name:"slugToNormal",type:t,pure:!0}),t})()}}]);