(self.webpackChunkangular_ui=self.webpackChunkangular_ui||[]).push([[2263],{92263:(t,e,o)=>{"use strict";o.r(e),o.d(e,{ShopInfoModule:()=>C});var i=o(61116),a=o(56861),r=o(87672),n=o(31041),s=o(77154),l=o(33464),d=o(35366),u=o(99896),p=o(46535),c=o(87135),h=o(31269),g=o(61613),m=o(35965),f=o(13070),Z=o(9550),v=o(84369),A=o(77307),y=o(13841),T=o(87064);function q(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"div",20),d.TgZ(1,"mat-form-field",5),d.TgZ(2,"mat-label"),d._uU(3),d.qZA(),d._UZ(4,"input",21),d.qZA(),d.TgZ(5,"button",22),d.NdJ("click",function(){const e=d.CHM(t).index;return d.oxw().removeFormArrayField("addresses",e)}),d.TgZ(6,"mat-icon"),d._uU(7,"delete"),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=e.index;d.Q6J("formGroupName",t),d.xp6(3),d.hij("Type Address ",t+1,""),d.xp6(1),d.Q6J("placeholder","Enter Address "+t+1)}}function b(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"div",20),d.TgZ(1,"mat-form-field",5),d.TgZ(2,"mat-label"),d._uU(3),d.qZA(),d._UZ(4,"input",23),d.qZA(),d.TgZ(5,"button",22),d.NdJ("click",function(){const e=d.CHM(t).index;return d.oxw().removeFormArrayField("emails",e)}),d.TgZ(6,"mat-icon"),d._uU(7,"delete"),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=e.index;d.Q6J("formGroupName",t),d.xp6(3),d.hij("Type Email ",t+1,""),d.xp6(1),d.Q6J("placeholder","Enter email "+t+1)}}function w(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"div",20),d.TgZ(1,"mat-form-field",5),d.TgZ(2,"mat-label"),d._uU(3),d.qZA(),d._UZ(4,"input",24),d.qZA(),d.TgZ(5,"button",22),d.NdJ("click",function(){const e=d.CHM(t).index;return d.oxw().removeFormArrayField("phones",e)}),d.TgZ(6,"mat-icon"),d._uU(7,"delete"),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=e.index;d.Q6J("formGroupName",t),d.xp6(3),d.hij("Type Phone No ",t+1,""),d.xp6(1),d.Q6J("placeholder","Enter phone no "+t+1)}}function _(t,e){if(1&t&&(d.TgZ(0,"mat-option",27),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.value),d.xp6(1),d.hij(" ",t.viewValue," ")}}function S(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"div",20),d.TgZ(1,"mat-form-field",5),d.TgZ(2,"mat-label"),d._uU(3),d.qZA(),d.TgZ(4,"mat-select",25),d.YNc(5,_,2,2,"mat-option",26),d.qZA(),d.TgZ(6,"mat-error"),d._uU(7,"This field is required."),d.qZA(),d.qZA(),d.TgZ(8,"mat-form-field",5),d.TgZ(9,"mat-label"),d._uU(10),d.qZA(),d._UZ(11,"input",24),d.qZA(),d.TgZ(12,"button",22),d.NdJ("click",function(){const e=d.CHM(t).index;return d.oxw().removeFormArrayField("downloadUrls",e)}),d.TgZ(13,"mat-icon"),d._uU(14,"delete"),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=e.index,o=d.oxw();d.Q6J("formGroupName",t),d.xp6(3),d.hij("Select Download Url ",t+1,""),d.xp6(2),d.Q6J("ngForOf",o.downloadTypes),d.xp6(5),d.hij("Type Download Url ",t+1,""),d.xp6(1),d.Q6J("placeholder","Enter download url  "+t+1)}}function x(t,e){if(1&t&&(d.TgZ(0,"mat-option",27),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.value),d.xp6(1),d.hij(" ",t.viewValue," ")}}function N(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"div",20),d.TgZ(1,"mat-form-field",5),d.TgZ(2,"mat-label"),d._uU(3),d.qZA(),d.TgZ(4,"mat-select",25),d.YNc(5,x,2,2,"mat-option",26),d.qZA(),d.TgZ(6,"mat-error"),d._uU(7,"This field is required."),d.qZA(),d.qZA(),d.TgZ(8,"mat-form-field",5),d.TgZ(9,"mat-label"),d._uU(10),d.qZA(),d._UZ(11,"input",24),d.qZA(),d.TgZ(12,"button",22),d.NdJ("click",function(){const e=d.CHM(t).index;return d.oxw().removeFormArrayField("socialLinks",e)}),d.TgZ(13,"mat-icon"),d._uU(14,"delete"),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=e.index,o=d.oxw();d.Q6J("formGroupName",t),d.xp6(3),d.hij("Select Social Network ",t+1,""),d.xp6(2),d.Q6J("ngForOf",o.socialTypes),d.xp6(5),d.hij("Type Social Link ",t+1,""),d.xp6(1),d.Q6J("placeholder","Enter social link  "+t+1)}}const U=function(t){return[t,"image-gallery"]},I=function(t){return{url:t}},k=[{path:"",component:(()=>{class t{constructor(t,e,o,i,a,r,n,s){this.fb=t,this.activatedRoute=e,this.uiService=o,this.tagService=i,this.router=a,this.shopService=r,this.spinner=n,this.storageService=s,this.isLoading=!1,this.placeholder="/assets/images/avatar/image-upload.jpg",this.downloadTypes=[{value:0,viewValue:"Play Store"},{value:1,viewValue:"App Store"}],this.socialTypes=[{value:0,viewValue:"Facebook"},{value:1,viewValue:"YouTube"},{value:2,viewValue:"Twitter"},{value:3,viewValue:"Instagram"},{value:4,viewValue:"LinkedIn"}],this.needSessionDestroy=!0}ngOnInit(){this.initFormGroup(),this.getShopInfo(),this.pickedImage=this.placeholder,this.id||(this.storageService.getStoredInput("SHOP_INPUT")&&this.dataForm.patchValue(this.storageService.getStoredInput("SHOP_INPUT")),history.state.images&&(this.needSessionDestroy=!0,this.pickedImage=history.state.images[0].url,this.dataForm.patchValue({siteLogo:this.pickedImage})))}initFormGroup(){this.dataForm=this.fb.group({siteName:[null,n.kI.required],shortDescription:[null],siteLogo:[null],navLogo:[null],footerLogo:[null],othersLogo:[null],addresses:this.fb.array([]),emails:this.fb.array([]),phones:this.fb.array([]),downloadUrls:this.fb.array([]),socialLinks:this.fb.array([])}),this.addressesDataArray=this.dataForm.get("addresses"),this.emailsDataArray=this.dataForm.get("emails"),this.phonesDataArray=this.dataForm.get("phones"),this.downloadsUrlsArray=this.dataForm.get("downloadUrls"),this.socialLinksArray=this.dataForm.get("socialLinks")}setFormData(){this.dataForm.patchValue(this.shopInfo),this.storageService.getStoredInput("SHOP_INPUT")&&this.dataForm.patchValue(this.storageService.getStoredInput("SHOP_INPUT")),history.state.images?(this.needSessionDestroy=!0,this.pickedImage=history.state.images[0].url,this.dataForm.patchValue({siteLogo:this.pickedImage})):this.pickedImage=this.shopInfo.siteLogo?this.shopInfo.siteLogo:this.placeholder}onHoldInputData(){var t;this.needSessionDestroy=!1,this.storageService.storeInputData(null===(t=this.dataForm)||void 0===t?void 0:t.value,"SHOP_INPUT")}onAddNewShopObject(t){var e;const o=this.fb.group({type:[null],value:[null,n.kI.required]});(null===(e=this.dataForm)||void 0===e?void 0:e.get(t)).push(o)}removeFormArrayField(t,e){let o;switch(t){case"addresses":o=this.addressesDataArray;break;case"emails":o=this.emailsDataArray;break;case"phones":o=this.phonesDataArray;break;case"downloadUrls":o=this.downloadsUrlsArray;break;case"socialLinks":o=this.socialLinksArray;break;default:o=null}null==o||o.removeAt(e)}setData(){this.shopInfo.addresses.map(t=>{var e;const o=this.fb.group({type:[t.type],value:[t.value,n.kI.required]});(null===(e=this.dataForm)||void 0===e?void 0:e.get("addresses")).push(o)}),this.shopInfo.emails.map(t=>{var e;const o=this.fb.group({type:[t.type],value:[t.value,n.kI.required]});(null===(e=this.dataForm)||void 0===e?void 0:e.get("emails")).push(o)}),this.shopInfo.phones.map(t=>{var e;const o=this.fb.group({type:[t.type],value:[t.value,n.kI.required]});(null===(e=this.dataForm)||void 0===e?void 0:e.get("phones")).push(o)}),this.shopInfo.downloadUrls.map(t=>{var e;const o=this.fb.group({type:[t.type],value:[t.value,n.kI.required]});(null===(e=this.dataForm)||void 0===e?void 0:e.get("downloadUrls")).push(o)}),this.shopInfo.socialLinks.map(t=>{var e;const o=this.fb.group({type:[t.type],value:[t.value,n.kI.required]});(null===(e=this.dataForm)||void 0===e?void 0:e.get("socialLinks")).push(o)}),this.dataForm.patchValue(this.shopInfo)}onSubmit(){if(this.dataForm.invalid)this.uiService.warn("Please complete all the required fields");else if(this.shopInfo){const t=Object.assign(Object.assign({},this.dataForm.value),{_id:this.shopInfo._id});this.updateShopInfo(t)}else this.addShopInfo(this.dataForm.value)}addShopInfo(t){this.spinner.show(),this.shopService.addShopInfo(t).subscribe(t=>{this.uiService.success(t.message),this.spinner.hide()},t=>{this.spinner.hide(),console.log(t)})}getShopInfo(){this.spinner.show(),this.shopService.getShopInfo().subscribe(t=>{this.shopInfo=t.data,this.shopInfo&&this.setData(),this.spinner.hide()},t=>{this.spinner.hide(),console.log(t)})}updateShopInfo(t){this.spinner.show(),this.shopService.updateShopInfo(t).subscribe(t=>{this.uiService.success(t.message),this.spinner.hide()},t=>{this.spinner.hide(),console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(n.qu),d.Y36(l.gz),d.Y36(u.F),d.Y36(p.c),d.Y36(l.F0),d.Y36(c.d),d.Y36(h.t2),d.Y36(g.V))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-footer-info"]],decls:62,vars:14,consts:[[2,"position","relative"],[1,"header-dialog"],["fxLayout","column","fxLayoutAlign","space-around center",3,"formGroup","ngSubmit"],[1,"imag-view",3,"routerLink","state","click"],["alt","",3,"src"],["appearance","outline"],["formControlName","siteName","matInput","","placeholder","Enter web site name"],["formControlName","shortDescription","matInput","","placeholder","Enter Short Description"],[1,"form-array-container"],[1,"add-form-array-action"],["type","button","mat-raised-button","","color","primary",3,"click"],["formArrayName","addresses",1,"form-array-input"],["class","single-field",3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","emails",1,"form-array-input"],["formArrayName","phones",1,"form-array-input"],["formArrayName","downloadUrls",1,"form-array-input"],["formArrayName","socialLinks",1,"form-array-input"],["mat-raised-button","","color","accent","type","submit",1,"submit-btn"],["bdColor","rgba(0,0,0,0.25)","size","medium","color","#fff","type","ball-clip-rotate",2,"width","100vw","height","100vh",3,"fullScreen"],[2,"color","white"],[1,"single-field",3,"formGroupName"],["formControlName","value","matInput","",3,"placeholder"],["type","button","mat-mini-fab","","color","warn",3,"click"],["formControlName","value","matInput","","type","email",3,"placeholder"],["formControlName","value","matInput","","type","tel",3,"placeholder"],["formControlName","type","required",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"h1"),d._uU(3,"Shop Additional Info"),d.qZA(),d.qZA(),d.TgZ(4,"form",2),d.NdJ("ngSubmit",function(){return e.onSubmit()}),d.TgZ(5,"div",3),d.NdJ("click",function(){return e.onHoldInputData()}),d._UZ(6,"img",4),d.qZA(),d.TgZ(7,"mat-form-field",5),d.TgZ(8,"mat-label"),d._uU(9,"Website Name"),d.qZA(),d._UZ(10,"input",6),d.qZA(),d.TgZ(11,"mat-form-field",5),d.TgZ(12,"mat-label"),d._uU(13,"Short Description"),d.qZA(),d._UZ(14,"input",7),d.qZA(),d.TgZ(15,"div",8),d.TgZ(16,"div",9),d.TgZ(17,"button",10),d.NdJ("click",function(){return e.onAddNewShopObject("addresses")}),d.TgZ(18,"mat-icon"),d._uU(19,"add"),d.qZA(),d._uU(20," Add New Address "),d.qZA(),d.qZA(),d.TgZ(21,"div",11),d.YNc(22,q,8,3,"div",12),d.qZA(),d.qZA(),d.TgZ(23,"div",8),d.TgZ(24,"div",9),d.TgZ(25,"button",10),d.NdJ("click",function(){return e.onAddNewShopObject("emails")}),d.TgZ(26,"mat-icon"),d._uU(27,"add"),d.qZA(),d._uU(28," Add New Email "),d.qZA(),d.qZA(),d.TgZ(29,"div",13),d.YNc(30,b,8,3,"div",12),d.qZA(),d.qZA(),d.TgZ(31,"div",8),d.TgZ(32,"div",9),d.TgZ(33,"button",10),d.NdJ("click",function(){return e.onAddNewShopObject("phones")}),d.TgZ(34,"mat-icon"),d._uU(35,"add"),d.qZA(),d._uU(36," Add New Phone No "),d.qZA(),d.qZA(),d.TgZ(37,"div",14),d.YNc(38,w,8,3,"div",12),d.qZA(),d.qZA(),d.TgZ(39,"div",8),d.TgZ(40,"div",9),d.TgZ(41,"button",10),d.NdJ("click",function(){return e.onAddNewShopObject("downloadUrls")}),d.TgZ(42,"mat-icon"),d._uU(43,"add"),d.qZA(),d._uU(44," Add New Download Url "),d.qZA(),d.qZA(),d.TgZ(45,"div",15),d.YNc(46,S,15,5,"div",12),d.qZA(),d.qZA(),d.TgZ(47,"div",8),d.TgZ(48,"div",9),d.TgZ(49,"button",10),d.NdJ("click",function(){return e.onAddNewShopObject("socialLinks")}),d.TgZ(50,"mat-icon"),d._uU(51,"add"),d.qZA(),d._uU(52," Add New Social Link "),d.qZA(),d.qZA(),d.TgZ(53,"div",16),d.YNc(54,N,15,5,"div",12),d.qZA(),d.qZA(),d.TgZ(55,"button",17),d.TgZ(56,"mat-icon"),d._uU(57,"done"),d.qZA(),d._uU(58," Save Data "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(59,"ngx-spinner",18),d.TgZ(60,"p",19),d._uU(61," Loading... "),d.qZA(),d.qZA()),2&t&&(d.xp6(4),d.Q6J("formGroup",e.dataForm),d.xp6(1),d.Q6J("routerLink",d.VKq(10,U,e.id?"../../../":"../../"))("state",d.VKq(12,I,e.router.url)),d.xp6(1),d.Q6J("src",e.pickedImage,d.LSH),d.xp6(16),d.Q6J("ngForOf",null==e.addressesDataArray?null:e.addressesDataArray.controls),d.xp6(8),d.Q6J("ngForOf",null==e.emailsDataArray?null:e.emailsDataArray.controls),d.xp6(8),d.Q6J("ngForOf",null==e.phonesDataArray?null:e.phonesDataArray.controls),d.xp6(8),d.Q6J("ngForOf",null==e.downloadsUrlsArray?null:e.downloadsUrlsArray.controls),d.xp6(8),d.Q6J("ngForOf",null==e.socialLinksArray?null:e.socialLinksArray.controls),d.xp6(5),d.Q6J("fullScreen",!0))},directives:[n._Y,n.JL,m.xw,m.Wh,n.sg,l.rH,f.KE,f.hX,n.Fj,Z.Nt,n.JJ,n.u,v.lW,A.Hw,n.CE,i.sg,h.Ro,n.x0,y.gD,n.Q7,f.TO,T.ey],styles:[".header-dialog[_ngcontent-%COMP%]{margin:10px 0;width:100%;display:flex;align-items:center;justify-content:center;grid-gap:15px;gap:15px}form[_ngcontent-%COMP%]{width:100%;max-width:850px;margin:20px auto}form[_ngcontent-%COMP%]   .imag-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer;border:2px solid #c9c9c9;width:100px;height:100px;object-fit:contain;border-radius:85px;transition:all .3s linear}form[_ngcontent-%COMP%]   .imag-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{opacity:.7}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     span{color:#fff}.form-array-container[_ngcontent-%COMP%]{width:100%}.add-form-array-action[_ngcontent-%COMP%]{width:100%;text-align:left;margin-bottom:10px}.form-array-input[_ngcontent-%COMP%]{width:100%}.form-array-input[_ngcontent-%COMP%]   .single-field[_ngcontent-%COMP%]{width:100%;display:flex;grid-gap:8px;gap:8px}.form-array-input[_ngcontent-%COMP%]   .single-field[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px}.submit-btn[_ngcontent-%COMP%]{margin-top:25px;margin-bottom:25px;padding:4px 30px}"]}),t})()}];let F=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[l.Bz.forChild(k)],l.Bz]}),t})(),C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[i.ez,F,a.q,r.Cq,n.u5,n.UX,s.o9,h.ef]]}),t})()},46535:(t,e,o)=>{"use strict";o.d(e,{c:()=>s});var i=o(529),a=o(42693),r=o(35366);const n=i.N.apiBaseLink+"/api/tag/";let s=(()=>{class t{constructor(t){this.httpClient=t}addTag(t){return this.httpClient.post(n+"add-single-tag",t)}insertManyTag(t){return this.httpClient.post(n+"add-multiple-tag",t)}getAllTags(t){if(t){let e=new a.LE;return e=e.append("pageSize",t.pageSize),e=e.append("page",t.currentPage),this.httpClient.get(n+"get-all-tags",{params:e})}return this.httpClient.get(n+"get-all-tags")}getTagByTagId(t){return this.httpClient.get(n+"get-tag-by-tag-id/"+t)}editTagData(t){return this.httpClient.put(n+"edit-tag-by-tag",t)}deleteTag(t){return this.httpClient.delete(n+"delete-tag-by-id/"+t)}getSearchTag(t,e){const o=e;let i=new a.LE;return i=i.append("q",t),i=i.append("pageSize",e.pageSize),i=i.append("currentPage",e.currentPage),this.httpClient.post(n+"get-tags-by-search",o,{params:i})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a.eN))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);