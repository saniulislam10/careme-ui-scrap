(self.webpackChunkangular_ui=self.webpackChunkangular_ui||[]).push([[2422],{57147:(e,t,i)=>{"use strict";i.d(t,{L:()=>n,E7:()=>r});var a=i(35366);let n=(()=>{class e{constructor(e){this.el=e,this.hasDecimalPoint=!1,this.hasNegativeSign=!1,this.navigationKeys=["Backspace","Delete","Tab","Escape","Enter","Home","End","ArrowLeft","ArrowRight","Clear","Copy","Paste"],this.decimal=!1,this.decimalSeparator=".",this.allowNegatives=!1,this.negativeSign="-",this.min=-1/0,this.max=1/0,this.regex=null,this.inputElement=e.nativeElement}ngOnChanges(e){if(e.pattern&&(this.regex=this.pattern?RegExp(this.pattern):null),e.min){const e=Number(this.min);this.min=isNaN(e)?-1/0:e}if(e.max){const e=Number(this.max);this.max=isNaN(e)?1/0:e}}onBeforeInput(e){if(isNaN(Number(e.data))){if(e.data===this.decimalSeparator||e.data===this.negativeSign&&this.allowNegatives)return;e.preventDefault(),e.stopPropagation()}}onKeyDown(e){if(this.navigationKeys.indexOf(e.key)>-1||("a"===e.key||"KeyA"===e.code)&&!0===e.ctrlKey||("c"===e.key||"KeyC"===e.code)&&!0===e.ctrlKey||("v"===e.key||"KeyV"===e.code)&&!0===e.ctrlKey||("x"===e.key||"KeyX"===e.code)&&!0===e.ctrlKey||("a"===e.key||"KeyA"===e.code)&&!0===e.metaKey||("c"===e.key||"KeyC"===e.code)&&!0===e.metaKey||("v"===e.key||"KeyV"===e.code)&&!0===e.metaKey||("x"===e.key||"KeyX"===e.code)&&!0===e.metaKey)return;let t="";if(this.decimal&&e.key===this.decimalSeparator)return t=this.forecastValue(e.key),t.split(this.decimalSeparator).length>2?void e.preventDefault():void(this.hasDecimalPoint=t.indexOf(this.decimalSeparator)>-1);if(e.key===this.negativeSign&&this.allowNegatives)return t=this.forecastValue(e.key),t.charAt(0)!==this.negativeSign||t.split(this.negativeSign).length>2?void e.preventDefault():void(this.hasNegativeSign=t.split(this.negativeSign).length>-1);if(" "===e.key||isNaN(Number(e.key)))return void e.preventDefault();if(t=t||this.forecastValue(e.key),this.regex&&!this.regex.test(t))return void e.preventDefault();const i=Number(t);(i>this.max||i<this.min)&&e.preventDefault()}onPaste(e){let t="";window.clipboardData?t=window.clipboardData.getData("text"):e.clipboardData&&e.clipboardData.getData&&(t=e.clipboardData.getData("text/plain")),this.pasteData(t),e.preventDefault()}onDrop(e){var t,i;const a=null!==(i=null===(t=e.dataTransfer)||void 0===t?void 0:t.getData("text"))&&void 0!==i?i:"";this.inputElement.focus(),this.pasteData(a),e.preventDefault()}pasteData(e){const t=this.sanitizeInput(e);if(!t.includes(this.negativeSign)||!this.hasNegativeSign||this.getSelection().includes(this.negativeSign)){if(!document.execCommand("insertText",!1,t))if(this.inputElement.setRangeText){const{selectionStart:e,selectionEnd:i}=this.inputElement;this.inputElement.setRangeText(t,null!=e?e:0,null!=i?i:0,"end"),void 0!==window.InstallTrigger&&this.inputElement.dispatchEvent(new Event("input",{cancelable:!0}))}else this.insertAtCursor(this.inputElement,t);this.decimal&&(this.hasDecimalPoint=this.inputElement.value.indexOf(this.decimalSeparator)>-1),this.hasNegativeSign=this.inputElement.value.indexOf(this.negativeSign)>-1}}insertAtCursor(e,t){var i,a;const n=null!==(i=e.selectionStart)&&void 0!==i?i:0,r=null!==(a=e.selectionEnd)&&void 0!==a?a:0;e.value=e.value.substring(0,n)+t+e.value.substring(r,e.value.length);const s=n+t.length;e.focus(),e.setSelectionRange(s,s),this.triggerEvent(e,"input")}triggerEvent(e,t){if("createEvent"in document){const i=document.createEvent("HTMLEvents");i.initEvent(t,!1,!0),e.dispatchEvent(i)}}sanitizeInput(e){let t,i="";t=this.decimal&&this.isValidDecimal(e)?new RegExp(`${this.getNegativeSignRegExp()}[^0-9${this.decimalSeparator}]`,"g"):new RegExp(`${this.getNegativeSignRegExp()}[^0-9]`,"g"),i=e.replace(t,"");const a=this.inputElement.maxLength;if(a>0){const e=a-this.inputElement.value.length+(i.includes(`${this.negativeSign}`)?1:0);i=e>0?i.substring(0,e):""}return i}getNegativeSignRegExp(){return!this.allowNegatives||this.hasNegativeSign&&!this.getSelection().includes(this.negativeSign)?"":`(?!^${this.negativeSign})`}isValidDecimal(e){if(this.hasDecimalPoint){const t=this.getSelection();return t&&t.indexOf(this.decimalSeparator)>-1?e.split(this.decimalSeparator).length<=2:e.indexOf(this.decimalSeparator)<0}return e.split(this.decimalSeparator).length<=2}getSelection(){var e,t;return this.inputElement.value.substring(null!==(e=this.inputElement.selectionStart)&&void 0!==e?e:0,null!==(t=this.inputElement.selectionEnd)&&void 0!==t?t:0)}forecastValue(e){var t,i;const a=null!==(t=this.inputElement.selectionStart)&&void 0!==t?t:0,n=null!==(i=this.inputElement.selectionEnd)&&void 0!==i?i:0,r=this.inputElement.value;return r.substring(0,a)+e+r.substring(n)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.SBq))},e.\u0275dir=a.lG2({type:e,selectors:[["","digitOnly",""]],hostBindings:function(e,t){1&e&&a.NdJ("beforeinput",function(e){return t.onBeforeInput(e)})("keydown",function(e){return t.onKeyDown(e)})("paste",function(e){return t.onPaste(e)})("drop",function(e){return t.onDrop(e)})},inputs:{decimal:"decimal",decimalSeparator:"decimalSeparator",allowNegatives:"allowNegatives",negativeSign:"negativeSign",min:"min",max:"max",pattern:"pattern"},features:[a.TTD]}),e})(),r=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[]]}),e})()},4086:(e,t,i)=>{"use strict";i.d(t,{W:()=>a});var a=function(e){return e[e.HOME=1]="HOME",e[e.OFFICE=2]="OFFICE",e[e.OTHERS=3]="OTHERS",e}({})},87514:(e,t,i)=>{"use strict";i.d(t,{i:()=>a});var a=function(e){return e[e.NONE=0]="NONE",e[e.PENDING=1]="PENDING",e[e.CONFIRM=2]="CONFIRM",e[e.PROCESSING=3]="PROCESSING",e[e.SHIPPING=4]="SHIPPING",e[e.DELIVERED=5]="DELIVERED",e[e.CANCEL=6]="CANCEL",e[e.REFUND=7]="REFUND",e}({})},31179:(e,t,i)=>{"use strict";i.d(t,{p:()=>l});var a=i(42693),n=i(529),r=i(35366);const s=n.N.apiBaseLink+"/api/order/",o=n.N.apiBaseLink+"/api/order-temporary/";let l=(()=>{class e{constructor(e){this.httpClient=e}placeOrder(e){return this.httpClient.post(s+"place-order",e)}placeTempOrder(e){return this.httpClient.post(o+"place-temp-order",e)}updateOrderSessionKey(e,t){return this.httpClient.post(o+"update-session-key/"+e+"/"+t,{})}getAllOrdersByUser(e,t){let i=new a.LE;return e?(i=i.append("pageSize",e.pageSize),i=i.append("page",e.currentPage),t&&(i=i.append("select",t)),this.httpClient.get(s+"get-all-orders-by-user",{params:i})):(t&&(i=i.append("select",t)),this.httpClient.get(s+"get-all-orders-by-user",{params:i}))}getOrderDetails(e){return this.httpClient.get(s+"get-order-details/"+e)}cancelOrderByUser(e){return this.httpClient.put(s+"cancel-order-by-user/"+e,{})}deleteOrderByAdmin(e){return this.httpClient.delete(s+"delete-order-by-admin/"+e)}getAllTransactionByUser(e,t){let i=new a.LE;return e?(i=i.append("pageSize",e.pageSize),i=i.append("page",e.currentPage),t&&(i=i.append("select",t)),this.httpClient.get(s+"get-all-transactions-by-user",{params:i})):(t&&(i=i.append("select",t)),this.httpClient.get(s+"get-all-transactions-by-user",{params:i}))}getAllOrdersByAdmin(e,t,i){let n=new a.LE;return e?(n=n.append("pageSize",e.pageSize),n=n.append("page",e.currentPage),t&&(n=n.append("select",t)),this.httpClient.post(s+"get-all-orders-by-admin",{query:i},{params:n})):(t&&(n=n.append("select",t)),this.httpClient.post(s+"get-all-orders-by-admin",{query:i},{params:n}))}getAllOrdersByAdminNoPaginate(){return this.httpClient.get(s+"get-all-orders-by-admin-no-paginate")}changeOrderStatus(e){return this.httpClient.put(s+"change-order-status",e)}getAllTransactionByAdmin(e,t){let i=new a.LE;return e?(i=i.append("pageSize",e.pageSize),i=i.append("page",e.currentPage),t&&(i=i.append("select",t)),this.httpClient.get(s+"get-all-transaction-by-admin",{params:i})):(t&&(i=i.append("select",t)),this.httpClient.get(s+"get-all-transaction-by-admin",{params:i}))}testSslSmsApi(){return this.httpClient.get(s+"sent-test-ssl-message")}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a.eN))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},80848:(e,t,i)=>{"use strict";i.d(t,{$:()=>s});var a=i(92935),n=i(35366),r=i(84369);let s=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t}ngOnInit(){}onConfirm(){this.dialogRef.close(!0)}onDismiss(){this.dialogRef.close(!1)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(a.so),n.Y36(a.WI))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-confirm-dialog"]],decls:12,vars:2,consts:[[1,"dialog-container"],[1,"confirm-dialog-area"],[1,"info"],[1,"actions-around"],["mat-raised-button","","color","warn","type","button",1,"btn-round",3,"click"],["mat-raised-button","","color","primary","type","button",1,"btn-round",3,"click"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"h1"),n._uU(4),n.qZA(),n.TgZ(5,"p"),n._uU(6),n.qZA(),n.qZA(),n.TgZ(7,"div",3),n.TgZ(8,"button",4),n.NdJ("click",function(){return t.onDismiss()}),n._uU(9," Cancel "),n.qZA(),n.TgZ(10,"button",5),n.NdJ("click",function(){return t.onConfirm()}),n._uU(11," Confirm "),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(4),n.Oqu(null==t.data?null:t.data.title),n.xp6(2),n.Oqu(null==t.data?null:t.data.message))},directives:[r.lW],styles:[".dialog-container[_ngcontent-%COMP%]{width:350px}.btn-round[_ngcontent-%COMP%]{margin:auto;width:150px;padding:5px;font-size:16px;border-radius:50px}.actions-around[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;margin-top:25px}.actions-around[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     span{color:#fff}@media only screen and (max-device-width:599px){.dialog-container[_ngcontent-%COMP%]{width:95%;margin:0 auto}.btn-round[_ngcontent-%COMP%]{margin:auto;width:130px;padding:5px;font-size:14.5px;border-radius:50px}.btn-round[_ngcontent-%COMP%]:first-child{margin-right:10px}}"]}),e})()},3821:(e,t,i)=>{"use strict";i.d(t,{$:()=>x});var a=i(4086),n=i(92935),r=i(31041),s=i(35366),o=i(32477),l=i(99896),d=i(56507),u=i(68370),c=i(35965),p=i(84369),g=i(7436),h=i(61116),m=i(13070),f=i(9550),v=i(77307),y=i(57147),Z=i(13841),S=i(87064);function b(e,t){if(1&e&&(s.TgZ(0,"mat-radio-button",18),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.Q6J("value",e.value),s.xp6(1),s.Oqu(e.viewValue)}}function A(e,t){if(1&e&&(s.TgZ(0,"mat-option",18),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.Oqu(e)}}let x=(()=>{class e{constructor(e,t,i,n,r,s,o){this.fb=e,this.userDataService=t,this.uiService=i,this.utilsService=n,this.reloadService=r,this.dialogRef=s,this.data=o,this.addressTypes=[{value:a.W.HOME,viewValue:"Home"},{value:a.W.OFFICE,viewValue:"Office"},{value:a.W.OTHERS,viewValue:"Other"}],this.cities=["Barisal","Bhairab","Bogra","Brahmanbaria","Chandpur","Chittagong","Chowmuhani","Chuadanga","Comilla","Cox's Bazar","Dhaka","Dinajpur","Faridpur","Feni","Gazipur","Jamalpur","Jessore","Jhenaidah","Kaliakair","Khulna","Kishoreganj","Kushtia","Maijdee","Manikganj","Mymensingh","Naogaon","Narayanganj","Narsingdi","Nawabganj","Pabna","Rajshahi","Rangpur","Saidpur","Satkhira","Savar","Siddhirganj","Sirajganj","Sreepur","Sylhet","Tangail","Tongi"]}ngOnInit(){this.dataForm=this.fb.group({addressType:[1,r.kI.required],name:[null,r.kI.required],phoneNo:[null,r.kI.required],email:[null,r.kI.email],postCode:[null],alternativePhoneNo:[null],city:[null,r.kI.required],area:[null],zone:[null],shippingAddress:[null,r.kI.required]}),this.data&&this.setdataFormData()}setdataFormData(){this.dataForm.patchValue(this.data)}onSubmitAddress(){if(this.dataForm.invalid)return void this.uiService.warn("Please complete all the required field");if(!this.utilsService.checkValidPhone(this.dataForm.value.phoneNo)||11!==this.dataForm.value.phoneNo.length)return this.dataForm.get("phoneNo").setErrors({invalid:!0}),void this.uiService.warn("Please enter a valid 11 digit phone no");const e=Object.assign({},this.dataForm.value);this.data?this.editAddress():this.addAddress(e)}addAddress(e){this.userDataService.addToAddress(e).subscribe(e=>{this.uiService.success(e.message),this.reloadService.needRefreshAddress$(),this.dialogRef.close()},e=>{console.log(e)})}editAddress(){const e=Object.assign(Object.assign({},this.dataForm.value),{_id:this.data._id});this.userDataService.editAddress(e).subscribe(e=>{this.uiService.success(e.message),this.reloadService.needRefreshAddress$(),this.dialogRef.close()},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(r.qu),s.Y36(o.M),s.Y36(l.F),s.Y36(d.F),s.Y36(u.f),s.Y36(n.so),s.Y36(n.WI))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-add-new-address"]],decls:68,vars:8,consts:[[1,"dialog-container"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header"],["mat-button","","mat-dialog-close",""],["autocomplete","off",1,"form",3,"formGroup","ngSubmit"],["fxLayout","row wrap",1,"form-input-area"],["aria-label","Received Form","fxFlex","100","formControlName","addressType","required","",1,"form-radio","px-1"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline","fxFlex.gt-xs","50","fxFlex","100",1,"form-field","px-1"],["formControlName","name","required","","matInput","","placeholder","Full name"],["matSuffix",""],["digitOnly","","formControlName","phoneNo","matInput","","placeholder","Phone No","type","tel","required","",3,"minlength","maxLength"],["digitOnly","","formControlName","alternativePhoneNo","matInput","","placeholder","Phone No","type","tel",3,"minlength","maxLength"],["formControlName","email","matInput","","placeholder","Email Address","type","email","required",""],["formControlName","city","required",""],["formControlName","postCode","matInput","","placeholder","Post Code","type","text"],["formControlName","shippingAddress","matInput","","placeholder","Address","required",""],[1,"action-area"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[3,"value"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"h2"),s._uU(3,"Shipping Info"),s.qZA(),s.TgZ(4,"button",2),s._uU(5,"Cancel"),s.qZA(),s.qZA(),s.TgZ(6,"form",3),s.NdJ("ngSubmit",function(){return t.onSubmitAddress()}),s.TgZ(7,"div",4),s.TgZ(8,"mat-radio-group",5),s.YNc(9,b,2,2,"mat-radio-button",6),s.qZA(),s.TgZ(10,"mat-form-field",7),s.TgZ(11,"mat-label"),s._uU(12,"Full name"),s.qZA(),s._UZ(13,"input",8),s.TgZ(14,"mat-icon",9),s._uU(15,"account_circle"),s.qZA(),s.TgZ(16,"mat-error"),s._uU(17,"This field is required"),s.qZA(),s.qZA(),s.TgZ(18,"mat-form-field",7),s.TgZ(19,"mat-label"),s._uU(20,"Phone Number (11 digit)"),s.qZA(),s._UZ(21,"input",10),s.TgZ(22,"mat-icon",9),s._uU(23,"call"),s.qZA(),s.TgZ(24,"mat-error"),s._uU(25,"This field is required"),s.qZA(),s.qZA(),s.TgZ(26,"mat-form-field",7),s.TgZ(27,"mat-label"),s._uU(28,"Phone Number (11 digit)"),s.qZA(),s._UZ(29,"input",11),s.TgZ(30,"mat-icon",9),s._uU(31,"call"),s.qZA(),s.TgZ(32,"mat-error"),s._uU(33,"This field is required"),s.qZA(),s.qZA(),s.TgZ(34,"mat-form-field",7),s.TgZ(35,"mat-label"),s._uU(36,"Email"),s.qZA(),s._UZ(37,"input",12),s.TgZ(38,"mat-icon",9),s._uU(39,"mail"),s.qZA(),s.TgZ(40,"mat-error"),s._uU(41,"This field is required"),s.qZA(),s.qZA(),s.TgZ(42,"mat-form-field",7),s.TgZ(43,"mat-label"),s._uU(44,"City"),s.qZA(),s.TgZ(45,"mat-select",13),s.YNc(46,A,2,2,"mat-option",6),s.qZA(),s.TgZ(47,"mat-error"),s._uU(48,"This field is required"),s.qZA(),s.qZA(),s.TgZ(49,"mat-form-field",7),s.TgZ(50,"mat-label"),s._uU(51,"Post Code"),s.qZA(),s._UZ(52,"input",14),s.TgZ(53,"mat-icon",9),s._uU(54,"tag"),s.qZA(),s.TgZ(55,"mat-error"),s._uU(56,"This field is required"),s.qZA(),s.qZA(),s.TgZ(57,"mat-form-field",7),s.TgZ(58,"mat-label"),s._uU(59,"Shipping Address"),s.qZA(),s._UZ(60,"input",15),s.TgZ(61,"mat-icon",9),s._uU(62,"location_on"),s.qZA(),s.TgZ(63,"mat-error"),s._uU(64,"This field is required"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(65,"div",16),s.TgZ(66,"button",17),s._uU(67," Save "),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(6),s.Q6J("formGroup",t.dataForm),s.xp6(3),s.Q6J("ngForOf",t.addressTypes),s.xp6(12),s.Q6J("minlength",11)("maxLength",11),s.xp6(8),s.Q6J("minlength",11)("maxLength",11),s.xp6(17),s.Q6J("ngForOf",t.cities),s.xp6(20),s.Q6J("disabled",t.dataForm.invalid))},directives:[c.xw,c.Wh,p.lW,n.ZT,r._Y,r.JL,r.sg,g.VQ,c.yH,r.JJ,r.u,r.Q7,h.sg,m.KE,m.hX,r.Fj,f.Nt,v.Hw,m.R9,m.TO,y.L,r.wO,Z.gD,g.U0,S.ey],styles:[".dialog-container[_ngcontent-%COMP%]{width:100%;margin:16px auto;max-width:480px}.header[_ngcontent-%COMP%]{padding:12px 10px}.form-radio[_ngcontent-%COMP%]{margin:8px 0}.mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}.action-area[_ngcontent-%COMP%]{width:85%;margin:0 auto}.action-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}"]}),e})()},97628:(e,t,i)=>{"use strict";i.d(t,{W:()=>d});var a=i(61116),n=i(56861),r=i(77154),s=i(31041),o=i(57147),l=i(35366);let d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[a.ez,n.q,r.o9,s.UX,o.E7]]}),e})()},99222:(e,t,i)=>{"use strict";i.d(t,{q:()=>r});var a=i(4086),n=i(35366);let r=(()=>{class e{transform(e,t){switch(e){case a.W.HOME:return"Home";case a.W.OFFICE:return"Office";case a.W.OTHERS:return"Others";default:return"-"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Yjl({name:"address",type:e,pure:!0}),e})()},92154:(e,t,i)=>{"use strict";i.d(t,{U:()=>n});var a=i(35366);let n=(()=>{class e{transform(e,t){if(e){let i;return i=e.split(t||"-"),i.map(e=>e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()).join(" ")}return""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=a.Yjl({name:"slugToNormal",type:e,pure:!0}),e})()}}]);